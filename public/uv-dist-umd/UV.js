!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("UV",[],t):"object"==typeof exports?exports.UV=t():e.UV=t()}(window,(function(){return function(e){function t(t){for(var A,i,r=t[0],o=t[1],a=0,c=[];a<r.length;a++)i=r[a],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&c.push(n[i][0]),n[i]=0;for(A in o)Object.prototype.hasOwnProperty.call(o,A)&&(e[A]=o[A]);for(s&&s(t);c.length;)c.shift()()}var A={},n={14:0};function i(t){if(A[t])return A[t].exports;var n=A[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],A=n[e];if(0!==A)if(A)t.push(A[2]);else{var r=new Promise((function(t,i){A=n[e]=[t,i]}));t.push(A[2]=r);var o,a=document.createElement("script");a.charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.src=function(e){return i.p+""+({2:"uv-aleph-extension~uv-default-extension~uv-ebook-extension~uv-mediaelement-extension~uv-model-viewer~d066739a",3:"vendors~uv-aleph-extension~uv-default-extension~uv-ebook-extension~uv-mediaelement-extension~uv-mode~d6e026a8",4:"vendors~uv-model-viewer-extension~uv-openseadragon-extension",15:"pdfjs",16:"pdfobject",17:"uv-aleph-extension",18:"uv-default-extension",19:"uv-ebook-extension",20:"uv-mediaelement-extension",21:"uv-model-viewer-extension",22:"uv-openseadragon-extension",23:"uv-pdf-extension",24:"vendors~pdfjs",25:"vendors~uv-aleph-extension",26:"vendors~uv-ebook-extension",27:"vendors~uv-mediaelement-extension",28:"vendors~uv-model-viewer-extension",29:"vendors~uv-openseadragon-extension"}[e]||e)+"."+{0:"c256bf376622bac1cd2f",1:"4d8a90d591f0bb8d2b15",2:"169d61ff2c83b5b96163",3:"758f8edda44a2aa4bd4c",4:"b9bde74b76d6f196f197",5:"4b1089098274c4fbcced",6:"2053fc43583a330aba9f",7:"31ee50d0f36b6e2d2e42",8:"44fee85da3494205f835",9:"89a01ac26f85091fb624",10:"21d963675d5f443e3836",11:"30231b1de8a1562d73ff",12:"e589cf2be7ac81323c03",13:"3f53f1b3ae526fa2f284",15:"c7aca4e6869886d678dc",16:"bafc5e37a07c095e2560",17:"95ee9a86db1703ec1c83",18:"e6283e97b76b228c24c5",19:"09540f4c4dd3229087b9",20:"be7911223acbdea4e12a",21:"664e13ff7f2faa78f154",22:"1941036455ded331b8f3",23:"09b0fa29769e1189d056",24:"c20b17a7c841581bc6a3",25:"c732ff92c995f79304d2",26:"6b83f734b9fed2217581",27:"faf075bc43d939b48c00",28:"05cf1194a318027301a4",29:"2fab7642f4792552d5ae",30:"a275e7e63837f6f23297",31:"f25d6be431a3fee9f069",32:"d27db2a8d5cf7cec7937",33:"f82347433304a3ac0dbc",34:"2e8f863949341770372a",35:"0402a6ca26a87ced8d23",36:"8ca6af3c61c6476199f4",37:"627bf1f55663453d34d6",38:"2c67a76e985941f289fc",39:"8e567802fc35d8bf1cab",40:"c7bd263749176410fc29",41:"3421e186ddc4e445b761",42:"d9124d5e49dd91487c84",43:"a17efbcddfae4b8af483",44:"bb8709ccb5f2b0146214",45:"4b7ffe4c95223244ab05",46:"75312b9e7eb2accefcc5",47:"e46550141ee7bf5e406e",48:"1c4f919b9f33ba8e3127",49:"082ac761b78fe06596b6",50:"eaae3689feac81f61871",51:"e71d40a717d0e5d1dad8",52:"6d4724d1d5021c668c7c",53:"bb745b211cbe6bddcb33",54:"2c3b4312444cde1cbc0b",55:"391627f04db46a412044",56:"32b515577ba14b16b9b6",57:"0dabdffae0ca1581c259",58:"8e08cda77e790660f8cd",59:"1a32879997950cac1464",60:"a5f7a50eb2f29141de3d",61:"0a33c2a4380034bfc65c",62:"85b72730890343854acc",63:"c7a0fccf65c2ae866f68",64:"fa7b648d1720aebd0355",65:"7dd59f2ab516824ac92e",66:"ae8af0cc2365f75cb5c4",67:"4af3795ace2e6f2b5e2c",68:"55cc2b0615ebda4fd570",69:"295b8802d3b1d6a6ee52",70:"9bec7f781e81169b7aa3",71:"a023babcb1911eb2bf6a",72:"6dacd1ed982589620465",73:"5f1bf2d39f5d58ae5bae",74:"2de730193275b61d3115",75:"82b8b509f3dc40f2c3d4",76:"4ba3d0ea4e34bf02a55e",77:"07b4350a8b16c378ce3a",78:"8ade421b3ed07ac37e97",79:"b8431e237e18a62b9e9c",80:"c9ce6d883089bd570cbd",81:"4d5dec799f20d7266899",82:"edbaa4b46c4793c0e941",83:"ccdebb10afa3c2f7e823",84:"b18c037fadd5cac2cac8",85:"66b6c22b60d71c7e9881",86:"9f9497dcdf84940a45a5",87:"25756889421d221dfda4",88:"c48c058122dabc9977ab",89:"c4b1161062daa44e228a",90:"09c97a68d80a4cca3349",91:"d4380ed5fb4c5549d181",92:"8b80afb0968f701a1edc",93:"a437465d94fc543c84cc",94:"1f4f00a04a3b2db72e16",95:"d37c460a8cc9155418af",96:"db697846688840ba96e4",97:"ac6a0ec6b343c50d5e00",98:"236f687b7be76c6ad121",99:"183447468fdff159fdca",100:"5a422093d732bb9c14d5",101:"1f738af2b8981d2758a9",102:"7b4958de53a43080d57e",103:"bbce7ecf39ea76351b33",104:"b7175040227d6afc42db",105:"15921ef72c20e5d5db7a",106:"aebde6e6fbb6460ee0b1",107:"28912da1cdcb77773bae",108:"40e7730cbd5ce4deb0d5",109:"d6c986febe5ade39b3f9",110:"37452124975e2f95e70c",111:"cc481cea94b02c4a72f3",112:"9a38ffec2717f00b9a40",113:"abd6fca4373fe596ba60",114:"a0548da1e3a4a668c19a",115:"6d14739caa3222f3785d",116:"a692564dde4e7d915047",117:"f37bfe5c11c362acb356",118:"af235bcefb15dbd5b2f8",119:"5b70f475ade8249e4f51",120:"4aa1fd6024f8e5c25280",121:"defcb53136e748c47954",122:"6e372993bcbc1fb6f7f9",123:"6704442fa18ffd4871d7",124:"5d1f339ec24d41137f1d",125:"2b788524fcbf8ec56d4f",126:"087a3da26ecc03d72d95",127:"e011b34270da5dfcaf89",128:"637799a05cda41203c19",129:"bcb18bae1969d5f0b2c3",130:"7c119df25072bc5d1bdb",131:"ad0ba1acbfc6af984fb1",132:"3e2cb7d59862b6b2aa39",133:"7c6c3be62a2f7b26e5fe",134:"8bfbc9a5d0999f8cf3b0",135:"fc8a240690030ac7eb72",136:"f4d75aea5aa989378e75",137:"e745ae0c84fb50dc9b62",138:"5a5e3acb4b7cc5019862",139:"0e6b41e496fd4de81282",140:"2556041f578244f55463",141:"fb722bd75f204d09bacc",142:"9faee784e0b7f089b33c",143:"199226e852ae478ddb4e",144:"d79eafab22decdb6d7d3",145:"c271850c24e1ec4b6a79",146:"b8cd04e3f8563fa79530",147:"5c1ca3523963da133404",148:"0d0b24e54ddd5acf6d25",149:"fdeef129392d50540508",150:"6616f21a0fda9124f610",151:"3381ee5e7bfe226e471f",152:"fce2a4079a6bcf9f3253",153:"42070595b8772259df38",154:"8b26097e9195ecdec285",155:"29703b89975c6760993e",156:"38856d3301e07e20c53d",157:"e5b3102e11487a152ffa",158:"7aa688b7bd6705e80b08",159:"79245365cbd6c1749601",160:"34ec4bbda14bf5cdc4c3",161:"e4af88170fc3814e876d",162:"45aa4507a7fe372ec79c",163:"d31f81bdbe167062e8ad",164:"06b61e5a4653eb854201",165:"876b5e096264dee02fc6",166:"97067147d0a3f442b9d0",167:"98a895e4e8ec141938f5"}[e]+".js"}(e);var s=new Error;o=function(t){a.onerror=a.onload=null,clearTimeout(c);var A=n[e];if(0!==A){if(A){var i=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",s.name="ChunkLoadError",s.type=i,s.request=r,A[1](s)}n[e]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:a})}),12e4);a.onerror=a.onload=o,document.head.appendChild(a)}return Promise.all(t)},i.m=e,i.c=A,i.d=function(e,t,A){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:A})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var A=Object.create(null);if(i.r(A),Object.defineProperty(A,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(A,n,function(t){return e[t]}.bind(null,n));return A},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/uv-dist-umd/",i.oe=function(e){throw console.error(e),e};var r=window.webpackJsonpUV=window.webpackJsonpUV||[],o=r.push.bind(r);r.push=t,r=r.slice();for(var a=0;a<r.length;a++)t(r[a]);var s=o;return i(i.s=10)}([function(e,t,A){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function A(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,A),i.l=!0,i.exports}return A.m=e,A.c=t,A.d=function(e,t,n){A.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},A.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},A.t=function(e,t){if(1&t&&(e=A(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(A.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)A.d(n,i,function(t){return e[t]}.bind(null,i));return n},A.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return A.d(t,"a",t),t},A.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},A.p="",A(A.s=4)}([function(e,t,A){"use strict";function n(e){for(var A in e)t.hasOwnProperty(A)||(t[A]=e[A])}Object.defineProperty(t,"__esModule",{value:!0}),n(A(6)),n(A(7)),n(A(8)),n(A(9)),n(A(10)),n(A(11)),n(A(12)),n(A(13)),n(A(14)),n(A(15)),n(A(16)),n(A(17)),n(A(18)),n(A(19)),n(A(20)),n(A(21)),n(A(22)),n(A(23)),n(A(24)),n(A(25)),n(A(26)),n(A(27)),n(A(28)),n(A(29)),n(A(30)),n(A(31)),n(A(32)),n(A(2))},function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BOOKMARKING="oa:bookmarking",e.CLASSIFYING="oa:classifying",e.COMMENTING="oa:commenting",e.DESCRIBING="oa:describing",e.EDITING="oa:editing",e.HIGHLIGHTING="oa:highlighting",e.IDENTIFYING="oa:identifying",e.LINKING="oa:linking",e.MODERATING="oa:moderating",e.PAINTING="sc:painting",e.QUESTIONING="oa:questioning",e.REPLYING="oa:replying",e.TAGGING="oa:tagging",e.TRANSCRIBING="oad:transcribing"}(t.AnnotationMotivation||(t.AnnotationMotivation={})),function(e){e.AUTO_ADVANCE="auto-advance",e.CONTINUOUS="continuous",e.FACING_PAGES="facing-pages",e.HIDDEN="hidden",e.INDIVIDUALS="individuals",e.MULTI_PART="multi-part",e.NO_NAV="no-nav",e.NON_PAGED="non-paged",e.PAGED="paged",e.REPEAT="repeat",e.SEQUENCE="sequence",e.THUMBNAIL_NAV="thumbnail-nav",e.TOGETHER="together",e.UNORDERED="unordered"}(t.Behavior||(t.Behavior={})),function(e){e.CANVAS="canvas",e.CHOICE="choice",e.CONTENT_AS_TEXT="contentastext",e.DOCUMENT="document",e.IMAGE="image",e.MOVING_IMAGE="movingimage",e.PDF="pdf",e.PHYSICAL_OBJECT="physicalobject",e.SOUND="sound",e.TEXTUALBODY="textualbody",e.VIDEO="video"}(t.ExternalResourceType||(t.ExternalResourceType={})),function(e){e.ANNOTATION="annotation",e.CANVAS="canvas",e.COLLECTION="collection",e.MANIFEST="manifest",e.RANGE="range",e.SEQUENCE="sequence"}(t.IIIFResourceType||(t.IIIFResourceType={})),function(e){e.AUDIO_MP4="audio/mp4",e.CORTO="application/corto",e.DRACO="application/draco",e.GLTF="model/gltf+json",e.JPG="image/jpeg",e.M3U8="application/vnd.apple.mpegurl",e.MP3="audio/mp3",e.MPEG_DASH="application/dash+xml",e.OBJ="text/plain",e.PDF="application/pdf",e.PLY="application/ply",e.THREEJS="application/vnd.threejs+json",e.VIDEO_MP4="video/mp4",e.WEBM="video/webm"}(t.MediaType||(t.MediaType={})),function(e){e.DOC="application/msword",e.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",e.PDF="application/pdf"}(t.RenderingFormat||(t.RenderingFormat={})),function(e){e.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",e.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",e.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",e.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",e.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",e.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",e.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",e.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",e.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",e.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",e.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",e.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",e.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",e.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",e.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",e.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",e.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",e.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",e.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",e.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",e.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",e.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",e.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",e.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",e.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",e.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",e.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",e.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",e.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",e.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",e.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",e.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",e.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",e.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",e.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",e.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",e.SEARCH_0="http://iiif.io/api/search/0/search",e.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",e.SEARCH_1="http://iiif.io/api/search/1/search",e.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",e.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",e.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",e.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",e.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",e.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",e.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"}(t.ServiceProfile||(t.ServiceProfile={})),function(e){e.BOTTOM_TO_TOP="bottom-to-top",e.LEFT_TO_RIGHT="left-to-right",e.RIGHT_TO_LEFT="right-to-left",e.TOP_TO_BOTTOM="top-to-bottom"}(t.ViewingDirection||(t.ViewingDirection={})),function(e){e.CONTINUOUS="continuous",e.INDIVIDUALS="individuals",e.NON_PAGED="non-paged",e.PAGED="paged",e.TOP="top"}(t.ViewingHint||(t.ViewingHint={}))},function(e,t,A){"use strict";var n=this&&this.__awaiter||function(e,t,A,n){return new(A||(A=Promise))((function(i,r){function o(e){try{s(n.next(e))}catch(e){r(e)}}function a(e){try{s(n.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,a)}s((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var A,n,i,r,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(A)throw new TypeError("Generator is already executing.");for(;o;)try{if(A=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,n=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){o.label=r[1];break}if(6===r[0]&&o.label<i[1]){o.label=i[1],i=r;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(r);break}i[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],n=0}finally{A=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=A(0),o=A(1),a=A(33);A(34);var s=function(){function e(){}return e.getMediaType=function(e){return(e=(e=e.toLowerCase()).split(";")[0]).trim()},e.getImageQuality=function(e){return e===o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1||e===o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2||e===o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1||e===o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2||e===o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1||e===o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2||e===o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1||e===o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2||e===o.ServiceProfile.IMAGE_1_LEVEL_1||e===o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1||e===o.ServiceProfile.IMAGE_1_LEVEL_2||e===o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2?"native":"default"},e.getInexactLocale=function(e){return-1!==e.indexOf("-")?e.substr(0,e.indexOf("-")):e},e.getLocalisedValue=function(e,t){if(!Array.isArray(e))return e;for(var A=0;A<e.length;A++){var n=e[A];if(t===n["@language"])return n["@value"]}var i=t.substr(0,t.indexOf("-"));for(A=0;A<e.length;A++){var r=e[A];if(r["@language"]===i)return r["@value"]}return null},e.generateTreeNodeIds=function(t,A){var n;void 0===A&&(A=0),n=t.parentNode?t.parentNode.id+"-"+A:"0",t.id=n;for(var i=0;i<t.nodes.length;i++){var r=t.nodes[i];e.generateTreeNodeIds(r,i)}},e.normaliseType=function(e){return-1!==(e=e.toLowerCase()).indexOf(":")?e.split(":")[1]:e},e.normaliseUrl=function(e){return-1!==(e=e.substr(e.indexOf("://"))).indexOf("#")&&(e=e.split("#")[0]),e},e.normalisedUrlsMatch=function(t,A){return e.normaliseUrl(t)===e.normaliseUrl(A)},e.isImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_1_LEVEL_0)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_1_LEVEL_1)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_1_LEVEL_2)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_2_LEVEL_0)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_2_LEVEL_1)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_2_LEVEL_2)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},e.isLevel0ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_1_LEVEL_0)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_2_LEVEL_0)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0))},e.isLevel1ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_1_LEVEL_1)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_2_LEVEL_1)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1))},e.isLevel2ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_1_LEVEL_2)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_2_LEVEL_2)||e.normalisedUrlsMatch(t,o.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},e.parseManifest=function(e,t){return r.Deserialiser.parse(e,t)},e.checkStatus=function(e){if(e.ok)return e;var t=new Error(e.statusText);return t.response=e,Promise.reject(t)},e.loadManifest=function(t){return new Promise((function(A){fetch(t).then(e.checkStatus).then((function(e){return e.json()})).then((function(e){A(e)}))}))},e.loadExternalResourcesAuth1=function(t,A,n,i,r,o,a,s){return new Promise((function(c,u){var l=t.map((function(t){return e.loadExternalResourceAuth1(t,A,n,i,r,o,a,s)}));Promise.all(l).then((function(){c(t)})).catch((function(e){u(e)}))}))},e.loadExternalResourceAuth1=function(t,A,r,o,s,c,u,l){return n(this,void 0,void 0,(function(){var n;return i(this,(function(i){switch(i.label){case 0:return[4,o(t)];case 1:return(n=i.sent())?[4,t.getData(n)]:[3,6];case 2:return i.sent(),t.status!==a.OK?[3,3]:[2,t];case 3:return[4,e.doAuthChain(t,A,r,s,c,u,l)];case 4:i.sent(),i.label=5;case 5:if(t.status===a.OK||t.status===a.MOVED_TEMPORARILY)return[2,t];throw e.createAuthorizationFailedError();case 6:return[4,t.getData()];case 7:return i.sent(),t.status!==a.MOVED_TEMPORARILY&&t.status!==a.UNAUTHORIZED?[3,9]:[4,e.doAuthChain(t,A,r,s,c,u,l)];case 8:i.sent(),i.label=9;case 9:if(t.status===a.OK||t.status===a.MOVED_TEMPORARILY)return[2,t];throw e.createAuthorizationFailedError()}}))}))},e.doAuthChain=function(t,A,r,o,s,c,u){return n(this,void 0,void 0,(function(){var n,l,f,p,h,d,g,E;return i(this,(function(i){switch(i.label){case 0:return t.isAccessControlled()?((n=t.externalService)&&(n.options=t.options),(l=t.kioskService)&&(l.options=t.options),(f=t.clickThroughService)&&(f.options=t.options),(p=t.loginService)&&(p.options=t.options),t.isResponseHandled||t.status!==a.MOVED_TEMPORARILY?[3,2]:[4,c(t)]):[2,t];case 1:return i.sent(),[2,t];case 2:return h=null,d=null,(h=n)?(d=h,[4,e.attemptResourceWithToken(t,r,h)]):[3,4];case 3:return i.sent(),[2,t];case 4:return(h=l)?(d=h,(g=A(h))?[4,o(g)]:[3,7]):[3,7];case 5:return i.sent(),[4,e.attemptResourceWithToken(t,r,h)];case 6:return i.sent(),[2,t];case 7:return(h=f)?(d=h,[4,s(t,h)]):[3,11];case 8:return(E=i.sent())?[4,o(E)]:[3,11];case 9:return i.sent(),[4,e.attemptResourceWithToken(t,r,h)];case 10:return i.sent(),[2,t];case 11:return(h=p)?(d=h,[4,s(t,h)]):[3,15];case 12:return(E=i.sent())?[4,o(E)]:[3,15];case 13:return i.sent(),[4,e.attemptResourceWithToken(t,r,h)];case 14:return i.sent(),[2,t];case 15:return d&&u(t,d),[2]}}))}))},e.attemptResourceWithToken=function(e,t,A){return n(this,void 0,void 0,(function(){var n,r;return i(this,(function(i){switch(i.label){case 0:return(n=A.getService(o.ServiceProfile.AUTH_1_TOKEN))?[4,t(e,n)]:[3,3];case 1:return(r=i.sent())&&r.accessToken?[4,e.getData(r)]:[3,3];case 2:return i.sent(),[2,e];case 3:return[2]}}))}))},e.loadExternalResourcesAuth09=function(t,A,n,i,r,o,a,s,c,u){return new Promise((function(l,f){var p=t.map((function(t){return e.loadExternalResourceAuth09(t,A,n,i,r,o,a,s,c,u)}));Promise.all(p).then((function(){l(t)})).catch((function(e){f(e)}))}))},e.loadExternalResourceAuth09=function(t,A,n,i,r,o,s,c,u,l){return new Promise((function(f,p){l&&l.pessimisticAccessControl?t.getData().then((function(){t.isAccessControlled()?t.clickThroughService?(f(n(t)),f(i(t))):r(t).then((function(){o(t,!0).then((function(A){t.getData(A).then((function(){f(u(t))})).catch((function(t){p(e.createInternalServerError(t))}))})).catch((function(t){p(e.createInternalServerError(t))}))})).catch((function(t){p(e.createInternalServerError(t))})):f(t)})).catch((function(t){p(e.createInternalServerError(t))})):c(t,A).then((function(l){l?t.getData(l).then((function(){t.status===a.OK?f(u(t)):e.authorize(t,A,n,i,r,o,s,c).then((function(){f(u(t))})).catch((function(t){p(e.createAuthorizationFailedError())}))})).catch((function(t){p(e.createAuthorizationFailedError())})):e.authorize(t,A,n,i,r,o,s,c).then((function(){f(u(t))})).catch((function(t){p(e.createAuthorizationFailedError())}))})).catch((function(t){p(e.createAuthorizationFailedError())}))}))},e.createError=function(e,t){var A=new Error;return A.message=t,A.name=String(e),A},e.createAuthorizationFailedError=function(){return e.createError(r.StatusCode.AUTHORIZATION_FAILED,"Authorization failed")},e.createRestrictedError=function(){return e.createError(r.StatusCode.RESTRICTED,"Restricted")},e.createInternalServerError=function(t){return e.createError(r.StatusCode.INTERNAL_SERVER_ERROR,t)},e.authorize=function(t,A,n,i,r,o,s,c){return new Promise((function(u,l){t.getData().then((function(){t.isAccessControlled()?c(t,A).then((function(c){c?t.getData(c).then((function(){t.status===a.OK?u(t):e.showAuthInteraction(t,A,n,i,r,o,s,u,l)})).catch((function(t){l(e.createInternalServerError(t))})):o(t,!1).then((function(c){c?s(t,c,A).then((function(){t.getData(c).then((function(){t.status===a.OK?u(t):e.showAuthInteraction(t,A,n,i,r,o,s,u,l)})).catch((function(t){l(e.createInternalServerError(t))}))})).catch((function(t){l(e.createInternalServerError(t))})):e.showAuthInteraction(t,A,n,i,r,o,s,u,l)}))})).catch((function(t){l(e.createInternalServerError(t))})):u(t)}))}))},e.showAuthInteraction=function(t,A,n,i,r,o,s,c,u){t.status!==a.MOVED_TEMPORARILY||t.isResponseHandled?t.clickThroughService&&!t.isResponseHandled?n(t).then((function(){o(t,!0).then((function(n){s(t,n,A).then((function(){t.getData(n).then((function(){c(t)})).catch((function(t){u(e.createInternalServerError(t))}))})).catch((function(t){u(e.createInternalServerError(t))}))})).catch((function(t){u(e.createInternalServerError(t))}))})):r(t).then((function(){o(t,!0).then((function(n){s(t,n,A).then((function(){t.getData(n).then((function(){c(t)})).catch((function(t){u(e.createInternalServerError(t))}))})).catch((function(t){u(e.createInternalServerError(t))}))})).catch((function(t){u(e.createInternalServerError(t))}))})):c(t)},e.getService=function(e,t){for(var A=this.getServices(e),n=0;n<A.length;n++){var i=A[n];if(i.getProfile()===t)return i}return null},e.getResourceById=function(t,A){return e.traverseAndFind(t.__jsonld,"@id",A)},e.traverseAndFind=function(t,A,n){if(t.hasOwnProperty(A)&&t[A]===n)return t;for(var i=0;i<Object.keys(t).length;i++)if("object"==typeof t[Object.keys(t)[i]]){var r=e.traverseAndFind(t[Object.keys(t)[i]],A,n);if(null!=r)return r}},e.getServices=function(e){var t,A=[];if(!(t=e.__jsonld?e.__jsonld.service:e.service))return A;Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var i=t[n];if("string"==typeof i){var o=this.getResourceById(e.options.resource,i);o&&A.push(new r.Service(o.__jsonld||o,e.options))}else A.push(new r.Service(i,e.options))}return A},e.getTemporalComponent=function(e){var t=/t=([^&]+)/g.exec(e),A=null;return t&&t[1]&&(A=t[1].split(",")),A},e}();t.Utils=s},function(e,t,A){"use strict";A.r(t),t.default=function(e,t){return t=t||{},new Promise((function(A,n){var i=new XMLHttpRequest,r=[],o=[],a={},s=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(JSON.parse(i.responseText))},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:s,headers:{keys:function(){return r},entries:function(){return o},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}};for(var c in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,A){r.push(t=t.toLowerCase()),o.push([t,A]),a[t]=a[t]?a[t]+","+A:A})),A(s())},i.onerror=n,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(c,t.headers[c]);i.send(t.body||null)}))}},function(e,t,A){e.exports=A(5)},function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var A in e)t.hasOwnProperty(A)||(t[A]=e[A])}(A(0));var n=A(2);t.loadManifest=function(e){return n.Utils.loadManifest(e)},t.parseManifest=function(e,t){return n.Utils.parseManifest(e,t)}},function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.__jsonld=e,this.context=this.getProperty("context"),this.id=this.getProperty("id")}return e.prototype.getProperty=function(e){var t=null;return this.__jsonld&&((t=this.__jsonld[e])||(t=this.__jsonld["@"+e])),t},e}();t.JSONLDResource=n},function(e,t,A){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(e,t)},function(e,t){function A(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var r=A(0),o=A(1),a=function(e){function t(t,A){var n=e.call(this,t)||this;return n.options=A,n}return i(t,e),t.prototype.getIIIFResourceType=function(){return r.Utils.normaliseType(this.getProperty("type"))},t.prototype.getLabel=function(){var e=this.getProperty("label");return e?r.LanguageMap.parse(e,this.options.locale):[]},t.prototype.getDefaultLabel=function(){return r.LanguageMap.getValue(this.getLabel())},t.prototype.getMetadata=function(){var e=this.getProperty("metadata"),t=[];if(!e)return t;for(var A=0;A<e.length;A++){var n=e[A],i=new r.LabelValuePair(this.options.locale);i.parse(n),t.push(i)}return t},t.prototype.getRendering=function(e){for(var t=this.getRenderings(),A=0;A<t.length;A++){var n=t[A];if(n.getFormat()===e)return n}return null},t.prototype.getRenderings=function(){var e,t=[];if(!(e=this.__jsonld?this.__jsonld.rendering:this.rendering))return t;Array.isArray(e)||(e=[e]);for(var A=0;A<e.length;A++){var n=e[A];t.push(new r.Rendering(n,this.options))}return t},t.prototype.getService=function(e){return r.Utils.getService(this,e)},t.prototype.getServices=function(){return r.Utils.getServices(this)},t.prototype.getThumbnail=function(){var e=this.getProperty("thumbnail");return Array.isArray(e)&&(e=e[0]),e?new r.Thumbnail(e,this.options):null},t.prototype.isAnnotation=function(){return this.getIIIFResourceType()===o.IIIFResourceType.ANNOTATION},t.prototype.isCanvas=function(){return this.getIIIFResourceType()===o.IIIFResourceType.CANVAS},t.prototype.isCollection=function(){return this.getIIIFResourceType()===o.IIIFResourceType.COLLECTION},t.prototype.isManifest=function(){return this.getIIIFResourceType()===o.IIIFResourceType.MANIFEST},t.prototype.isRange=function(){return this.getIIIFResourceType()===o.IIIFResourceType.RANGE},t.prototype.isSequence=function(){return this.getIIIFResourceType()===o.IIIFResourceType.SEQUENCE},t}(r.JSONLDResource);t.ManifestResource=a},function(e,t,A){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(e,t)},function(e,t){function A(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var r=A(0),o=function(e){function t(t,A){return e.call(this,t,A)||this}return i(t,e),t.prototype.getFormat=function(){var e=this.getProperty("format");return e?e.toLowerCase():null},t.prototype.getResources=function(){var e=[];if(!this.__jsonld.resources)return e;for(var t=0;t<this.__jsonld.resources.length;t++){var A=this.__jsonld.resources[t],n=new r.Annotation(A,this.options);e.push(n)}return e},t.prototype.getType=function(){var e=this.getProperty("type");return e?r.Utils.normaliseType(e):null},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t.prototype.getMaxWidth=function(){return this.getProperty("maxWidth")},t.prototype.getMaxHeight=function(){return this.getProperty("maxHeight")?null:this.getMaxWidth()},t}(r.ManifestResource);t.Resource=o},function(e,t,A){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(e,t)},function(e,t){function A(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var r=A(0),o=A(1),a=function(e){function t(t,A){var n=e.call(this,t,A)||this;n.index=-1,n.isLoaded=!1;var i={defaultLabel:"-",locale:"en-GB",resource:n,pessimisticAccessControl:!1};return n.options=Object.assign(i,A),n}return i(t,e),t.prototype.getAttribution=function(){var e=this.getProperty("attribution");return e?r.LanguageMap.parse(e,this.options.locale):[]},t.prototype.getDescription=function(){var e=this.getProperty("description");return e?r.LanguageMap.parse(e,this.options.locale):[]},t.prototype.getIIIFResourceType=function(){return r.Utils.normaliseType(this.getProperty("type"))},t.prototype.getLogo=function(){var e=this.getProperty("logo");return e?"string"==typeof e?e:(Array.isArray(e)&&e.length&&(e=e[0]),e["@id"]||e.id):null},t.prototype.getLicense=function(){return r.Utils.getLocalisedValue(this.getProperty("license"),this.options.locale)},t.prototype.getNavDate=function(){return new Date(this.getProperty("navDate"))},t.prototype.getRelated=function(){return this.getProperty("related")},t.prototype.getSeeAlso=function(){return this.getProperty("seeAlso")},t.prototype.getTrackingLabel=function(){var e=this.getService(o.ServiceProfile.TRACKING_EXTENSIONS);return e?e.getProperty("trackingLabel"):""},t.prototype.getDefaultTree=function(){return this.defaultTree=new r.TreeNode("root"),this.defaultTree.data=this,this.defaultTree},t.prototype.getRequiredStatement=function(){var e=null,t=this.getProperty("requiredStatement");if(t)(e=new r.LabelValuePair(this.options.locale)).parse(t);else{var A=this.getAttribution();A&&((e=new r.LabelValuePair(this.options.locale)).value=A)}return e},t.prototype.isCollection=function(){return this.getIIIFResourceType()===o.IIIFResourceType.COLLECTION},t.prototype.isManifest=function(){return this.getIIIFResourceType()===o.IIIFResourceType.MANIFEST},t.prototype.load=function(){var e=this;return new Promise((function(t){if(e.isLoaded)t(e);else{var A=e.options;A.navDate=e.getNavDate();var n=e.__jsonld.id;n||(n=e.__jsonld["@id"]),r.Utils.loadManifest(n).then((function(n){e.parentLabel=r.LanguageMap.getValue(e.getLabel(),A.locale);var i=r.Deserialiser.parse(n,A);(e=Object.assign(e,i)).index=A.index,t(e)}))}}))},t}(r.ManifestResource);t.IIIFResource=a},function(e,t,A){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(e,t)},function(e,t){function A(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var r=A(0),o=function(e){function t(t,A){return e.call(this,t,A)||this}return i(t,e),t.prototype.getBody=function(){var e=[],t=this.getProperty("body");if(t)if(Array.isArray(t))for(var A=0;A<t.length;A++)if((o=t[A]).items)for(var n=0;n<o.items.length;n++){var i=o.items[n];e.push(new r.AnnotationBody(i,this.options))}else e.push(new r.AnnotationBody(o,this.options));else if(t.items)for(A=0;A<t.items.length;A++){var o=t.items[A];e.push(new r.AnnotationBody(o,this.options))}else e.push(new r.AnnotationBody(t,this.options));return e},t.prototype.getMotivation=function(){return this.getProperty("motivation")||null},t.prototype.getOn=function(){return this.getProperty("on")},t.prototype.getTarget=function(){return this.getProperty("target")},t.prototype.getResource=function(){return new r.Resource(this.getProperty("resource"),this.options)},t}(r.ManifestResource);t.Annotation=o},function(e,t,A){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(e,t)},function(e,t){function A(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var r=A(0),o=function(e){function t(t,A){return e.call(this,t,A)||this}return i(t,e),t.prototype.getFormat=function(){var e=this.getProperty("format");return e?r.Utils.getMediaType(e):null},t.prototype.getType=function(){return this.getProperty("type")?r.Utils.normaliseType(this.getProperty("type")):null},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t}(r.ManifestResource);t.AnnotationBody=o},function(e,t,A){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(e,t)},function(e,t){function A(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var r=A(0),o=function(e){function t(t,A,n){var i=e.call(this,A)||this;return i.label=t,i.options=n,i}return i(t,e),t.prototype.getIIIFResourceType=function(){return r.Utils.normaliseType(this.getProperty("type"))},t.prototype.getLabel=function(){return this.label},t.prototype.getResources=function(){var e=this;return this.getProperty("resources").map((function(t){return new r.Annotation(t,e.options)}))},t.prototype.load=function(){var e=this;return new Promise((function(t,A){if(e.isLoaded)t(e);else{var n=e.__jsonld.id;n||(n=e.__jsonld["@id"]),r.Utils.loadManifest(n).then((function(A){e.__jsonld=A,e.context=e.getProperty("context"),e.id=e.getProperty("id"),e.isLoaded=!0,t(e)})).catch(A)}}))},t}(r.JSONLDResource);t.AnnotationList=o},function(e,t,A){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(e,t)},function(e,t){function A(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,A){return e.call(this,t,A)||this}return i(t,e),t.prototype.getItems=function(){return this.getProperty("items")},t}(A(0).ManifestResource);t.AnnotationPage=r},function(e,t,A){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(e,t)},function(e,t){function A(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var r=A(0),o=function(e){function t(t,A){return e.call(this,t,A)||this}return i(t,e),t.prototype.getCanonicalImageUri=function(e){var t,A=null,n="default",i=e;if(this.externalResource&&this.externalResource.data&&this.externalResource.data["@id"])A=this.externalResource.data["@id"],i||(i=this.externalResource.data.width),this.externalResource.data["@context"]&&(this.externalResource.data["@context"].indexOf("/1.0/context.json")>-1||this.externalResource.data["@context"].indexOf("/1.1/context.json")>-1||this.externalResource.data["@context"].indexOf("/1/context.json")>-1)&&(n="native");else{var o=this.getImages();if(o&&o.length){var a=o[0].getResource(),s=a.getServices();if(i||(i=a.getWidth()),s.length){var c=s[0];A=c.id,n=r.Utils.getImageQuality(c.getProfile())}else if(i===a.getWidth())return a.id}if(!A){var u=this.getProperty("thumbnail");if(u){if("string"==typeof u)return u;if(u["@id"])return u["@id"];if(u.length)return u[0].id}}}return t=i+",",A&&A.endsWith("/")&&(A=A.substr(0,A.length-1)),[A,"full",t,0,n+".jpg"].join("/")},t.prototype.getMaxDimensions=function(){var e,t=null;return this.externalResource&&this.externalResource.data&&this.externalResource.data.profile&&(e=this.externalResource.data.profile,Array.isArray(e)&&(e=e.filter((function(e){return e.maxWidth}))[0])&&(t=new r.Size(e.maxWidth,e.maxHeight?e.maxHeight:e.maxWidth))),t},t.prototype.getContent=function(){var e=[],t=this.__jsonld.items||this.__jsonld.content;if(!t)return e;var A=null;if(t.length&&(A=new r.AnnotationPage(t[0],this.options)),!A)return e;for(var n=A.getItems(),i=0;i<n.length;i++){var o=n[i],a=new r.Annotation(o,this.options);e.push(a)}return e},t.prototype.getDuration=function(){return this.getProperty("duration")},t.prototype.getImages=function(){var e=[];if(!this.__jsonld.images)return e;for(var t=0;t<this.__jsonld.images.length;t++){var A=this.__jsonld.images[t],n=new r.Annotation(A,this.options);e.push(n)}return e},t.prototype.getIndex=function(){return this.getProperty("index")},t.prototype.getOtherContent=function(){var e=this,t=(Array.isArray(this.getProperty("otherContent"))?this.getProperty("otherContent"):[this.getProperty("otherContent")]).filter((function(e){return e&&"string"==typeof(t=e["@type"])&&t.toLowerCase()==t.toLowerCase();var t})).map((function(t,A){return new r.AnnotationList(t.label||"Annotation list "+A,t,e.options)})).map((function(e){return e.load()}));return Promise.all(t)},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t}(r.Resource);t.Canvas=o},function(e,t,A){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(e,t)},function(e,t){function A(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var r=A(1),o=A(0),a=function(e){function t(t,A){var n=e.call(this,t,A)||this;return n.items=[],n._collections=null,n._manifests=null,t.__collection=n,n}return i(t,e),t.prototype.getCollections=function(){return this._collections?this._collections:this._collections=this.items.filter((function(e){return e.isCollection()}))},t.prototype.getManifests=function(){return this._manifests?this._manifests:this._manifests=this.items.filter((function(e){return e.isManifest()}))},t.prototype.getCollectionByIndex=function(e){for(var t,A=this.getCollections(),n=0;n<A.length;n++){var i=A[n];i.index===e&&(t=i)}if(t)return t.options.index=e,t.load();throw new Error("Collection index not found")},t.prototype.getManifestByIndex=function(e){for(var t,A=this.getManifests(),n=0;n<A.length;n++){var i=A[n];i.index===e&&(t=i)}if(t)return t.options.index=e,t.load();throw new Error("Manifest index not found")},t.prototype.getTotalCollections=function(){return this.getCollections().length},t.prototype.getTotalManifests=function(){return this.getManifests().length},t.prototype.getTotalItems=function(){return this.items.length},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):r.ViewingDirection.LEFT_TO_RIGHT},t.prototype.getDefaultTree=function(){return e.prototype.getDefaultTree.call(this),this.defaultTree.data.type=o.Utils.normaliseType(o.TreeNodeType.COLLECTION),this._parseManifests(this),this._parseCollections(this),o.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},t.prototype._parseManifests=function(e){if(e.getManifests()&&e.getManifests().length)for(var t=0;t<e.getManifests().length;t++){var A=e.getManifests()[t],n=A.getDefaultTree();n.label=A.parentLabel||o.LanguageMap.getValue(A.getLabel(),this.options.locale)||"manifest "+(t+1),n.navDate=A.getNavDate(),n.data.id=A.id,n.data.type=o.Utils.normaliseType(o.TreeNodeType.MANIFEST),e.defaultTree.addNode(n)}},t.prototype._parseCollections=function(e){if(e.getCollections()&&e.getCollections().length)for(var t=0;t<e.getCollections().length;t++){var A=e.getCollections()[t],n=A.getDefaultTree();n.label=A.parentLabel||o.LanguageMap.getValue(A.getLabel(),this.options.locale)||"collection "+(t+1),n.navDate=A.getNavDate(),n.data.id=A.id,n.data.type=o.Utils.normaliseType(o.TreeNodeType.COLLECTION),e.defaultTree.addNode(n)}},t}(o.IIIFResource);t.Collection=a},function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.start=e,this.end=t}return e.prototype.getLength=function(){return this.end-this.start},e}();t.Duration=n},function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=A(0),i=function(){function e(e){this.defaultLocale=e}return e.prototype.parse=function(e){this.resource=e,this.label=n.LanguageMap.parse(this.resource.label,this.defaultLocale),this.value=n.LanguageMap.parse(this.resource.value,this.defaultLocale)},e.prototype.getLabel=function(){return this.label?n.LanguageMap.getValue(this.label,this.defaultLocale):null},e.prototype.setLabel=function(e){var t=this;if(this.label&&this.label.length){var A=this.label.filter((function(e){return e.locale===t.defaultLocale||e.locale===n.Utils.getInexactLocale(t.defaultLocale)}))[0];A&&(A.value=e)}},e.prototype.getValue=function(){if(this.value){var e=this.defaultLocale;return this.label&&this.label.length&&this.label[0].locale&&(e=this.label[0].locale),n.LanguageMap.getValue(this.value,e)}return null},e.prototype.setValue=function(e){var t=this;if(this.value&&this.value.length){var A=this.value.filter((function(e){return e.locale===t.defaultLocale||e.locale===n.Utils.getInexactLocale(t.defaultLocale)}))[0];A&&(A.value=e)}},e}();t.LabelValuePair=i},function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Language=function(e,t){Array.isArray(e)?1===e.length?this.value=e[0]:this.value=e.join("<br/>"):this.value=e,this.locale=t}},function(e,t,A){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(e,t)},function(e,t){function A(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var r=A(0),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.parse=function(e,t){var A,n=[];if(!e)return n;if(Array.isArray(e))for(var i=0;i<e.length;i++){var o=e[i];A="string"==typeof o?new r.Language(o,t):new r.Language(o["@value"],o["@language"]||t),n.push(A)}else{if("string"==typeof e)return A=new r.Language(e,t),n.push(A),n;e["@value"]?(A=new r.Language(e["@value"],e["@language"]||t),n.push(A)):Object.keys(e).forEach((function(t){if(!e[t].length)throw new Error("language must have a value");A=new r.Language(e[t],t),n.push(A)}))}return n},t.getValue=function(e,t){if(e.length){if(t){var A=e.filter((function(e){return e.locale===t||r.Utils.getInexactLocale(e.locale)===r.Utils.getInexactLocale(t)}))[0];if(A)return A.value}return e[0].value}return null},t}(Array);t.LanguageMap=o},function(e,t,A){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(e,t)},function(e,t){function A(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var r=A(1),o=A(0),a=function(e){function t(t,A){var n=e.call(this,t,A)||this;if(n.index=0,n._allRanges=null,n.items=[],n._topRanges=[],n.__jsonld.structures&&n.__jsonld.structures.length)for(var i=n._getTopRanges(),r=0;r<i.length;r++){var o=i[r];n._parseRanges(o,String(r))}return n}return i(t,e),t.prototype.getPosterCanvas=function(){var e=this.getProperty("posterCanvas");return e&&(e=new o.Canvas(e,this.options)),e},t.prototype.getBehavior=function(){var e=this.getProperty("behavior");return Array.isArray(e)&&(e=e[0]),e||null},t.prototype.getDefaultTree=function(){if(e.prototype.getDefaultTree.call(this),this.defaultTree.data.type=o.Utils.normaliseType(o.TreeNodeType.MANIFEST),!this.isLoaded)return this.defaultTree;var t=this.getTopRanges();return t.length&&t[0].getTree(this.defaultTree),o.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},t.prototype._getTopRanges=function(){var e=[];if(this.__jsonld.structures&&this.__jsonld.structures.length){for(var t=0;t<this.__jsonld.structures.length;t++){var A=this.__jsonld.structures[t];A.viewingHint===r.ViewingHint.TOP&&e.push(A)}if(!e.length){var n={};n.ranges=this.__jsonld.structures,e.push(n)}}return e},t.prototype.getTopRanges=function(){return this._topRanges},t.prototype._getRangeById=function(e){if(this.__jsonld.structures&&this.__jsonld.structures.length)for(var t=0;t<this.__jsonld.structures.length;t++){var A=this.__jsonld.structures[t];if(A["@id"]===e||A.id===e)return A}return null},t.prototype._parseRanges=function(e,t,A){var n,i=null;if("string"==typeof e&&(i=e,e=this._getRangeById(i)),e){(n=new o.Range(e,this.options)).parentRange=A,n.path=t,A?A.items.push(n):this._topRanges.push(n);var r=e.items||e.members;if(r)for(var a=0;a<r.length;a++){var s=r[a];if(s["@type"]&&"sc:range"===s["@type"].toLowerCase()||s.type&&"range"===s.type.toLowerCase())this._parseRanges(s,t+"/"+a,n);else if(s["@type"]&&"sc:canvas"===s["@type"].toLowerCase()||s.type&&"canvas"===s.type.toLowerCase()){n.canvases||(n.canvases=[]);var c=s.id||s["@id"];n.canvases.push(c)}}else if(e.ranges)for(a=0;a<e.ranges.length;a++)this._parseRanges(e.ranges[a],t+"/"+a,n)}else console.warn("Range:",i,"does not exist")},t.prototype.getAllRanges=function(){if(null!=this._allRanges)return this._allRanges;this._allRanges=[];for(var e=this.getTopRanges(),t=function(t){var n=e[t];n.id&&A._allRanges.push(n);var i=function(e,t){e.add(t);var A=t.getRanges();return A.length?A.reduce(i,e):e},r=Array.from(n.getRanges().reduce(i,new Set));A._allRanges=A._allRanges.concat(r)},A=this,n=0;n<e.length;n++)t(n);return this._allRanges},t.prototype.getRangeById=function(e){for(var t=this.getAllRanges(),A=0;A<t.length;A++){var n=t[A];if(n.id===e)return n}return null},t.prototype.getRangeByPath=function(e){for(var t=this.getAllRanges(),A=0;A<t.length;A++){var n=t[A];if(n.path===e)return n}return null},t.prototype.getSequences=function(){if(this.items.length)return this.items;var e=this.__jsonld.mediaSequences||this.__jsonld.sequences;if(e)for(var t=0;t<e.length;t++){var A=e[t],n=new o.Sequence(A,this.options);this.items.push(n)}else this.__jsonld.items&&(n=new o.Sequence(this.__jsonld.items,this.options),this.items.push(n));return this.items},t.prototype.getSequenceByIndex=function(e){return this.getSequences()[e]},t.prototype.getTotalSequences=function(){return this.getSequences().length},t.prototype.getManifestType=function(){var e=this.getService(r.ServiceProfile.UI_EXTENSIONS);return e?e.getProperty("manifestType"):o.ManifestType.EMPTY},t.prototype.isMultiSequence=function(){return this.getTotalSequences()>1},t.prototype.isPagingEnabled=function(){var e=this.getViewingHint();if(e)return e===r.ViewingHint.PAGED;var t=this.getBehavior();return!!t&&t===r.Behavior.PAGED},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t}(o.IIIFResource);t.Manifest=a},function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.EMPTY="",e.MANUSCRIPT="manuscript",e.MONOGRAPH="monograph"}(t.ManifestType||(t.ManifestType={}))},function(e,t,A){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(e,t)},function(e,t){function A(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var r=A(0),o=A(1),a=function(e){function t(t,A){var n=e.call(this,t,A)||this;return n._ranges=null,n.canvases=null,n.items=[],n}return i(t,e),t.prototype.getCanvasIds=function(){return this.__jsonld.canvases?this.__jsonld.canvases:this.canvases?this.canvases:[]},t.prototype.getDuration=function(){var e,t;if(this.canvases&&this.canvases.length)for(var A=0;A<this.canvases.length;A++){var n=this.canvases[A],i=r.Utils.getTemporalComponent(n);i&&i.length>1&&(0===A&&(e=Number(i[0])),A===this.canvases.length-1&&(t=Number(i[1])))}else{var o=this.getRanges();for(A=0;A<o.length;A++){var a=o[A].getDuration();a&&(0===A&&(e=a.start),A===o.length-1&&(t=a.end))}}if(void 0!==e&&void 0!==t)return new r.Duration(e,t)},t.prototype.getRanges=function(){return this._ranges?this._ranges:this._ranges=this.items.filter((function(e){return e.isRange()}))},t.prototype.getBehavior=function(){var e=this.getProperty("behavior");return Array.isArray(e)&&(e=e[0]),e||null},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t.prototype.getTree=function(e){e.data=this,this.treeNode=e;var t=this.getRanges();if(t&&t.length)for(var A=0;A<t.length;A++){var n=t[A],i=new r.TreeNode;e.addNode(i),this._parseTreeNode(i,n)}return r.Utils.generateTreeNodeIds(e),e},t.prototype.spansTime=function(e){var t=this.getDuration();return!!(t&&e>=t.start&&e<=t.end)},t.prototype._parseTreeNode=function(e,t){e.label=r.LanguageMap.getValue(t.getLabel(),this.options.locale),e.data=t,e.data.type=r.Utils.normaliseType(r.TreeNodeType.RANGE),t.treeNode=e;var A=t.getRanges();if(A&&A.length)for(var n=0;n<A.length;n++){var i=A[n];if(i.getBehavior()!==o.Behavior.NO_NAV){var a=new r.TreeNode;e.addNode(a),this._parseTreeNode(a,i)}}},t}(r.ManifestResource);t.Range=a},function(e,t,A){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(e,t)},function(e,t){function A(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,A){return e.call(this,t,A)||this}return i(t,e),t.prototype.getFormat=function(){return this.getProperty("format")},t}(A(0).ManifestResource);t.Rendering=r},function(e,t,A){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(e,t)},function(e,t){function A(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var r=A(1),o=A(0),a=function(e){function t(t,A){var n=e.call(this,t,A)||this;return n.items=[],n._thumbnails=null,n}return i(t,e),t.prototype.getCanvases=function(){if(this.items.length)return this.items;var e=this.__jsonld.canvases||this.__jsonld.elements;if(e)for(var t=0;t<e.length;t++){var A=e[t];(n=new o.Canvas(A,this.options)).index=t,this.items.push(n)}else if(this.__jsonld)for(t=0;t<this.__jsonld.length;t++){var n;A=this.__jsonld[t],(n=new o.Canvas(A,this.options)).index=t,this.items.push(n)}return this.items},t.prototype.getCanvasById=function(e){for(var t=0;t<this.getTotalCanvases();t++){var A=this.getCanvasByIndex(t),n=o.Utils.normaliseUrl(A.id);if(o.Utils.normaliseUrl(e)===n)return A}return null},t.prototype.getCanvasByIndex=function(e){return this.getCanvases()[e]},t.prototype.getCanvasIndexById=function(e){for(var t=0;t<this.getTotalCanvases();t++)if(this.getCanvasByIndex(t).id===e)return t;return null},t.prototype.getCanvasIndexByLabel=function(e,t){e=e.trim(),isNaN(e)||(e=parseInt(e,10).toString(),t&&(e+="r"));for(var A,n,i,r=/(\d*)\D+(\d*)/,a=0;a<this.getTotalCanvases();a++){var s=this.getCanvasByIndex(a);if(o.LanguageMap.getValue(s.getLabel(),this.options.locale)===e)return a;if((A=r.exec(e))&&(n=A[1],(i=A[2])&&new RegExp("^"+n+"\\D+"+i+"$").test(s.getLabel().toString())))return a}return-1},t.prototype.getLastCanvasLabel=function(e){for(var t=this.getTotalCanvases()-1;t>=0;t--){var A=this.getCanvasByIndex(t),n=o.LanguageMap.getValue(A.getLabel(),this.options.locale);if(e){if(/^[a-zA-Z0-9]*$/.test(n))return n}else if(n)return n}return this.options.defaultLabel},t.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},t.prototype.getNextPageIndex=function(e,t){var A;if(t){var n=this.getPagedIndices(e),i=this.getViewingDirection();A=i&&i===r.ViewingDirection.RIGHT_TO_LEFT?n[0]+1:n[n.length-1]+1}else A=e+1;return A>this.getLastPageIndex()?-1:A},t.prototype.getPagedIndices=function(e,t){var A=[];if(t){A=this.isFirstCanvas(e)||this.isLastCanvas(e)?[e]:e%2?[e,e+1]:[e-1,e];var n=this.getViewingDirection();n&&n===r.ViewingDirection.RIGHT_TO_LEFT&&(A=A.reverse())}else A.push(e);return A},t.prototype.getPrevPageIndex=function(e,t){var A;if(t){var n=this.getPagedIndices(e),i=this.getViewingDirection();A=i&&i===r.ViewingDirection.RIGHT_TO_LEFT?n[n.length-1]-1:n[0]-1}else A=e-1;return A},t.prototype.getStartCanvasIndex=function(){var e=this.getStartCanvas();if(e)for(var t=0;t<this.getTotalCanvases();t++)if(this.getCanvasByIndex(t).id===e)return t;return 0},t.prototype.getThumbs=function(e,t){for(var A=[],n=this.getTotalCanvases(),i=0;i<n;i++){var r=this.getCanvasByIndex(i),a=new o.Thumb(e,r);A.push(a)}return A},t.prototype.getThumbnails=function(){if(null!=this._thumbnails)return this._thumbnails;this._thumbnails=[];for(var e=this.getCanvases(),t=0;t<e.length;t++){var A=e[t].getThumbnail();A&&this._thumbnails.push(A)}return this._thumbnails},t.prototype.getStartCanvas=function(){return this.getProperty("startCanvas")},t.prototype.getTotalCanvases=function(){return this.getCanvases().length},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):this.options.resource.getViewingDirection?this.options.resource.getViewingDirection():null},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t.prototype.isCanvasIndexOutOfRange=function(e){return e>this.getTotalCanvases()-1},t.prototype.isFirstCanvas=function(e){return 0===e},t.prototype.isLastCanvas=function(e){return e===this.getTotalCanvases()-1},t.prototype.isMultiCanvas=function(){return this.getTotalCanvases()>1},t.prototype.isPagingEnabled=function(){var e=this.getViewingHint();return!!e&&e===r.ViewingHint.PAGED},t.prototype.isTotalCanvasesEven=function(){return this.getTotalCanvases()%2==0},t}(o.ManifestResource);t.Sequence=a},function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=A(0),i=function(){function e(){}return e.parse=function(e,t){return"string"==typeof e&&(e=JSON.parse(e)),this.parseJson(e,t)},e.parseJson=function(e,t){var A;if(t&&t.navDate&&!isNaN(t.navDate.getTime())&&(e.navDate=t.navDate.toString()),e["@type"])switch(e["@type"]){case"sc:Collection":A=this.parseCollection(e,t);break;case"sc:Manifest":A=this.parseManifest(e,t);break;default:return null}else switch(e.type){case"Collection":A=this.parseCollection(e,t);break;case"Manifest":A=this.parseManifest(e,t);break;default:return null}return A.isLoaded=!0,A},e.parseCollection=function(e,t){var A=new n.Collection(e,t);return t?(A.index=t.index||0,t.resource&&(A.parentCollection=t.resource.parentCollection)):A.index=0,this.parseCollections(A,t),this.parseManifests(A,t),this.parseItems(A,t),A},e.parseCollections=function(e,t){var A;if(e.__jsonld.collections?A=e.__jsonld.collections:e.__jsonld.items&&(A=e.__jsonld.items.filter((function(e){return"collection"===e.type.toLowerCase()}))),A)for(var n=0;n<A.length;n++){t&&(t.index=n);var i=this.parseCollection(A[n],t);i.index=n,i.parentCollection=e,e.items.push(i)}},e.parseManifest=function(e,t){return new n.Manifest(e,t)},e.parseManifests=function(e,t){var A;if(e.__jsonld.manifests?A=e.__jsonld.manifests:e.__jsonld.items&&(A=e.__jsonld.items.filter((function(e){return"manifest"===e.type.toLowerCase()}))),A)for(var n=0;n<A.length;n++){var i=this.parseManifest(A[n],t);i.index=n,i.parentCollection=e,e.items.push(i)}},e.parseItem=function(e,t){if(e["@type"]){if("sc:manifest"===e["@type"].toLowerCase())return this.parseManifest(e,t);if("sc:collection"===e["@type"].toLowerCase())return this.parseCollection(e,t)}else if(e.type){if("manifest"===e.type.toLowerCase())return this.parseManifest(e,t);if("collection"===e.type.toLowerCase())return this.parseCollection(e,t)}return null},e.parseItems=function(e,t){var A=e.__jsonld.members||e.__jsonld.items;if(A)for(var n=function(n){t&&(t.index=n);var r=i.parseItem(A[n],t);return r?e.items.filter((function(e){return e.id===r.id}))[0]?"continue":(r.index=n,r.parentCollection=e,void e.items.push(r)):{value:void 0}},i=this,r=0;r<A.length;r++){var o=n(r);if("object"==typeof o)return o.value}},e}();t.Deserialiser=i},function(e,t,A){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(e,t)},function(e,t){function A(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var r=A(0),o=function(e){function t(t,A){return e.call(this,t,A)||this}return i(t,e),t.prototype.getProfile=function(){var e=this.getProperty("profile");return e||(e=this.getProperty("dcterms:conformsTo")),Array.isArray(e)?e[0]:e},t.prototype.getConfirmLabel=function(){return r.Utils.getLocalisedValue(this.getProperty("confirmLabel"),this.options.locale)},t.prototype.getDescription=function(){return r.Utils.getLocalisedValue(this.getProperty("description"),this.options.locale)},t.prototype.getFailureDescription=function(){return r.Utils.getLocalisedValue(this.getProperty("failureDescription"),this.options.locale)},t.prototype.getFailureHeader=function(){return r.Utils.getLocalisedValue(this.getProperty("failureHeader"),this.options.locale)},t.prototype.getHeader=function(){return r.Utils.getLocalisedValue(this.getProperty("header"),this.options.locale)},t.prototype.getServiceLabel=function(){return r.Utils.getLocalisedValue(this.getProperty("label"),this.options.locale)},t.prototype.getInfoUri=function(){var e=this.id;return e.endsWith("/")||(e+="/"),e+"info.json"},t}(r.ManifestResource);t.Service=o},function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Size=function(e,t){this.width=e,this.height=t}},function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.AUTHORIZATION_FAILED=1]="AUTHORIZATION_FAILED",e[e.FORBIDDEN=2]="FORBIDDEN",e[e.INTERNAL_SERVER_ERROR=3]="INTERNAL_SERVER_ERROR",e[e.RESTRICTED=4]="RESTRICTED"}(t.StatusCode||(t.StatusCode={}))},function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=A(0);t.Thumb=function(e,t){this.data=t,this.index=t.index,this.width=e;var A=t.getHeight()/t.getWidth();this.height=A?Math.floor(this.width*A):e,this.uri=t.getCanonicalImageUri(e),this.label=n.LanguageMap.getValue(t.getLabel())}},function(e,t,A){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(e,t)},function(e,t){function A(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,A){return e.call(this,t,A)||this}return i(t,e),t}(A(0).Resource);t.Thumbnail=r},function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=A(0),i=function(){function e(e,t){this.label=e,this.data=t||{},this.nodes=[]}return e.prototype.addNode=function(e){this.nodes.push(e),e.parentNode=this},e.prototype.isCollection=function(){return this.data.type===n.Utils.normaliseType(n.TreeNodeType.COLLECTION)},e.prototype.isManifest=function(){return this.data.type===n.Utils.normaliseType(n.TreeNodeType.MANIFEST)},e.prototype.isRange=function(){return this.data.type===n.Utils.normaliseType(n.TreeNodeType.RANGE)},e}();t.TreeNode=i},function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.COLLECTION="collection",e.MANIFEST="manifest",e.RANGE="range"}(t.TreeNodeType||(t.TreeNodeType={}))},function(e,t,A){window,e.exports=function(e){var t={};function A(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,A),i.l=!0,i.exports}return A.m=e,A.c=t,A.d=function(e,t,n){A.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},A.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},A.t=function(e,t){if(1&t&&(e=A(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(A.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)A.d(n,i,function(t){return e[t]}.bind(null,i));return n},A.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return A.d(t,"a",t),t},A.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},A.p="",A(A.s=0)}([function(e,t,A){e.exports=A(1)},function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONTINUE=100,t.SWITCHING_PROTOCOLS=101,t.PROCESSING=102,t.OK=200,t.CREATED=201,t.ACCEPTED=202,t.NON_AUTHORITATIVE_INFORMATION=203,t.NO_CONTENT=204,t.RESET_CONTENT=205,t.PARTIAL_CONTENT=206,t.MULTI_STATUS=207,t.MULTIPLE_CHOICES=300,t.MOVED_PERMANENTLY=301,t.MOVED_TEMPORARILY=302,t.SEE_OTHER=303,t.NOT_MODIFIED=304,t.USE_PROXY=305,t.TEMPORARY_REDIRECT=307,t.BAD_REQUEST=400,t.UNAUTHORIZED=401,t.PAYMENT_REQUIRED=402,t.FORBIDDEN=403,t.NOT_FOUND=404,t.METHOD_NOT_ALLOWED=405,t.NOT_ACCEPTABLE=406,t.PROXY_AUTHENTICATION_REQUIRED=407,t.REQUEST_TIME_OUT=408,t.CONFLICT=409,t.GONE=410,t.LENGTH_REQUIRED=411,t.PRECONDITION_FAILED=412,t.REQUEST_ENTITY_TOO_LARGE=413,t.REQUEST_URI_TOO_LARGE=414,t.UNSUPPORTED_MEDIA_TYPE=415,t.REQUESTED_RANGE_NOT_SATISFIABLE=416,t.EXPECTATION_FAILED=417,t.IM_A_TEAPOT=418,t.UNPROCESSABLE_ENTITY=422,t.LOCKED=423,t.FAILED_DEPENDENCY=424,t.UNORDERED_COLLECTION=425,t.UPGRADE_REQUIRED=426,t.PRECONDITION_REQUIRED=428,t.TOO_MANY_REQUESTS=429,t.REQUEST_HEADER_FIELDS_TOO_LARGE=431,t.INTERNAL_SERVER_ERROR=500,t.NOT_IMPLEMENTED=501,t.BAD_GATEWAY=502,t.SERVICE_UNAVAILABLE=503,t.GATEWAY_TIME_OUT=504,t.HTTP_VERSION_NOT_SUPPORTED=505,t.VARIANT_ALSO_NEGOTIATES=506,t.INSUFFICIENT_STORAGE=507,t.BANDWIDTH_LIMIT_EXCEEDED=509,t.NOT_EXTENDED=510,t.NETWORK_AUTHENTICATION_REQUIRED=511}])},function(e,t,A){e.exports=window.fetch||(window.fetch=A(3).default||A(3))}])},function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BOOKMARKING="oa:bookmarking",e.CLASSIFYING="oa:classifying",e.COMMENTING="oa:commenting",e.DESCRIBING="oa:describing",e.EDITING="oa:editing",e.HIGHLIGHTING="oa:highlighting",e.IDENTIFYING="oa:identifying",e.LINKING="oa:linking",e.MODERATING="oa:moderating",e.PAINTING="sc:painting",e.QUESTIONING="oa:questioning",e.REPLYING="oa:replying",e.TAGGING="oa:tagging",e.TRANSCRIBING="oad:transcribing"}(t.AnnotationMotivation||(t.AnnotationMotivation={})),function(e){e.AUTO_ADVANCE="auto-advance",e.CONTINUOUS="continuous",e.FACING_PAGES="facing-pages",e.HIDDEN="hidden",e.INDIVIDUALS="individuals",e.MULTI_PART="multi-part",e.NO_NAV="no-nav",e.NON_PAGED="non-paged",e.PAGED="paged",e.REPEAT="repeat",e.SEQUENCE="sequence",e.THUMBNAIL_NAV="thumbnail-nav",e.TOGETHER="together",e.UNORDERED="unordered"}(t.Behavior||(t.Behavior={})),function(e){e.CANVAS="canvas",e.CHOICE="choice",e.OA_CHOICE="oa:choice",e.CONTENT_AS_TEXT="contentastext",e.DATASET="dataset",e.DOCUMENT="document",e.IMAGE="image",e.MODEL="model",e.MOVING_IMAGE="movingimage",e.PDF="pdf",e.PHYSICAL_OBJECT="physicalobject",e.SOUND="sound",e.TEXT="text",e.TEXTUALBODY="textualbody",e.VIDEO="video"}(t.ExternalResourceType||(t.ExternalResourceType={})),function(e){e.ANNOTATION="annotation",e.CANVAS="canvas",e.COLLECTION="collection",e.MANIFEST="manifest",e.RANGE="range",e.SEQUENCE="sequence"}(t.IIIFResourceType||(t.IIIFResourceType={})),function(e){e.AUDIO_MP4="audio/mp4",e.CORTO="application/corto",e.DICOM="application/dicom",e.DRACO="application/draco",e.EPUB="application/epub+zip",e.GLB="model/gltf-binary",e.GLTF="model/gltf+json",e.IIIF_PRESENTATION_2='application/ld+json;profile="http://iiif.io/api/presentation/2/context.json"',e.IIIF_PRESENTATION_3='application/ld+json;profile="http://iiif.io/api/presentation/3/context.json"',e.JPG="image/jpeg",e.M3U8="application/vnd.apple.mpegurl",e.MP3="audio/mp3",e.MPEG_DASH="application/dash+xml",e.OBJ="text/plain",e.OPF="application/oebps-package+xml",e.PDF="application/pdf",e.PLY="application/ply",e.THREEJS="application/vnd.threejs+json",e.USDZ="model/vnd.usd+zip",e.VIDEO_MP4="video/mp4",e.WEBM="video/webm"}(t.MediaType||(t.MediaType={})),function(e){e.DOC="application/msword",e.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",e.PDF="application/pdf"}(t.RenderingFormat||(t.RenderingFormat={})),function(e){e.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",e.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",e.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",e.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",e.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",e.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",e.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",e.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",e.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",e.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",e.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",e.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",e.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",e.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",e.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",e.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",e.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",e.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",e.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",e.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",e.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",e.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",e.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",e.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",e.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",e.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",e.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",e.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",e.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",e.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",e.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",e.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",e.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",e.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",e.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",e.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",e.SEARCH_0="http://iiif.io/api/search/0/search",e.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",e.SEARCH_1="http://iiif.io/api/search/1/search",e.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",e.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",e.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",e.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",e.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",e.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",e.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"}(t.ServiceProfile||(t.ServiceProfile={})),function(e){e.BOTTOM_TO_TOP="bottom-to-top",e.LEFT_TO_RIGHT="left-to-right",e.RIGHT_TO_LEFT="right-to-left",e.TOP_TO_BOTTOM="top-to-bottom"}(t.ViewingDirection||(t.ViewingDirection={})),function(e){e.CONTINUOUS="continuous",e.INDIVIDUALS="individuals",e.NON_PAGED="non-paged",e.PAGED="paged",e.TOP="top"}(t.ViewingHint||(t.ViewingHint={}))},function(e,t,A){window,e.exports=function(e){var t={};function A(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,A),i.l=!0,i.exports}return A.m=e,A.c=t,A.d=function(e,t,n){A.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},A.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},A.t=function(e,t){if(1&t&&(e=A(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(A.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)A.d(n,i,function(t){return e[t]}.bind(null,i));return n},A.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return A.d(t,"a",t),t},A.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},A.p="",A(A.s=0)}([function(e,t,A){e.exports=A(1)},function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONTINUE=100,t.SWITCHING_PROTOCOLS=101,t.PROCESSING=102,t.OK=200,t.CREATED=201,t.ACCEPTED=202,t.NON_AUTHORITATIVE_INFORMATION=203,t.NO_CONTENT=204,t.RESET_CONTENT=205,t.PARTIAL_CONTENT=206,t.MULTI_STATUS=207,t.MULTIPLE_CHOICES=300,t.MOVED_PERMANENTLY=301,t.MOVED_TEMPORARILY=302,t.SEE_OTHER=303,t.NOT_MODIFIED=304,t.USE_PROXY=305,t.TEMPORARY_REDIRECT=307,t.BAD_REQUEST=400,t.UNAUTHORIZED=401,t.PAYMENT_REQUIRED=402,t.FORBIDDEN=403,t.NOT_FOUND=404,t.METHOD_NOT_ALLOWED=405,t.NOT_ACCEPTABLE=406,t.PROXY_AUTHENTICATION_REQUIRED=407,t.REQUEST_TIME_OUT=408,t.CONFLICT=409,t.GONE=410,t.LENGTH_REQUIRED=411,t.PRECONDITION_FAILED=412,t.REQUEST_ENTITY_TOO_LARGE=413,t.REQUEST_URI_TOO_LARGE=414,t.UNSUPPORTED_MEDIA_TYPE=415,t.REQUESTED_RANGE_NOT_SATISFIABLE=416,t.EXPECTATION_FAILED=417,t.IM_A_TEAPOT=418,t.UNPROCESSABLE_ENTITY=422,t.LOCKED=423,t.FAILED_DEPENDENCY=424,t.UNORDERED_COLLECTION=425,t.UPGRADE_REQUIRED=426,t.PRECONDITION_REQUIRED=428,t.TOO_MANY_REQUESTS=429,t.REQUEST_HEADER_FIELDS_TOO_LARGE=431,t.INTERNAL_SERVER_ERROR=500,t.NOT_IMPLEMENTED=501,t.BAD_GATEWAY=502,t.SERVICE_UNAVAILABLE=503,t.GATEWAY_TIME_OUT=504,t.HTTP_VERSION_NOT_SUPPORTED=505,t.VARIANT_ALSO_NEGOTIATES=506,t.INSUFFICIENT_STORAGE=507,t.BANDWIDTH_LIMIT_EXCEEDED=509,t.NOT_EXTENDED=510,t.NETWORK_AUTHENTICATION_REQUIRED=511}])},function(e,t,A){"use strict";A.d(t,"a",(function(){return i})),A.d(t,"b",(function(){return r})),A.d(t,"c",(function(){return o})),A.d(t,"e",(function(){return a})),A.d(t,"f",(function(){return s})),A.d(t,"g",(function(){return c})),A.d(t,"h",(function(){return u})),A.d(t,"k",(function(){return l})),A.d(t,"d",(function(){return f})),A.d(t,"i",(function(){return p})),A.d(t,"j",(function(){return h})),A.d(t,"l",(function(){return d})),A.d(t,"m",(function(){return n})),A.d(t,"n",(function(){return E})),A.d(t,"o",(function(){return v}));var n,i=function(){function e(){}return e.waitFor=function(t,A,n,i,r,o){i||(i=200),r||(r=100),o||(o=0),(o+=1)>r?n&&n():t()?A():setTimeout((function(){e.waitFor(t,A,n,i,r,o)}),i)},e}(),r=function(){function e(){}return e.getBool=function(e,t){return null==e?t:e},e}(),o=(function(){function e(){}e.supportsCopy=function(){return document.queryCommandSupported&&document.queryCommandSupported("copy")},e.copy=function(t){t=e.convertBrToNewLine(t);var A=document.createElement("textarea");A.value=t,e.hideButKeepEnabled(A),document.body.appendChild(A),A.focus(),A.select(),document.execCommand("copy"),document.body.removeChild(A)},e.hideButKeepEnabled=function(e){e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="2em",e.style.height="2em",e.style.padding="0",e.style.border="none",e.style.outline="none",e.style.boxShadow="none",e.style.background="transparent"},e.convertBrToNewLine=function(e){return e=e.replace(/<br\s*[\/]?>/gi,"\n")}}(),function(){function e(){}e.float32ColorToARGB=function(e){return[(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},e._componentToHex=function(e){var t=e.toString(16);return 1==t.length?"0"+t:t},e.rgbToHexString=function(t){return e.coalesce(t),"#"+e._componentToHex(t[0])+e._componentToHex(t[1])+e._componentToHex(t[2])},e.argbToHexString=function(t){return"#"+e._componentToHex(t[0])+e._componentToHex(t[1])+e._componentToHex(t[2])+e._componentToHex(t[3])},e.coalesce=function(e){for(var t=1;t<e.length;t++)void 0===e[t]&&(e[t]=e[t-1])}}(),function(){function e(){}return e.getTimeStamp=function(){return(new Date).getTime()},e}()),a=(function(){function e(){}e.getPixelRatio=function(e){return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)},e.isTouch=function(){return!!("ontouchstart"in window)||window.navigator.msMaxTouchPoints>0}}(),function(){function e(){}return e.isInIFrame=function(){try{return window.self!==window.top}catch(e){return!0}},e.supportsFullscreen=function(){var e=document.documentElement;return void 0!==(e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen||e.msRequestFullscreen)},e.isHidden=function(){return!!e.getHiddenProp()},e.getHiddenProp=function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null},e}()),s=(function(){function e(){}e.debounce=function(e,t){return t=t||100,function(){if(!e.debouncing){var A=Array.prototype.slice.apply(arguments);e.lastReturnVal=e.apply(window,A),e.debouncing=!0}return clearTimeout(e.debounceTimeout),e.debounceTimeout=setTimeout((function(){e.debouncing=!1}),t),e.lastReturnVal}}}(),function(){function e(){}return e.simplifyMimeType=function(e){switch(e){case"text/plain":return"txt";case"image/jpeg":return"jpg";case"application/msword":return"doc";case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return"docx";default:var t=e.split("/");return t[t.length-1]}},e}()),c=function(){function e(){}return e.getCharCode=function(e){return"number"==typeof e.which?e.which:e.keyCode},e}(),u=function(){function e(){}return e.normalise=function(e,t,A){return(e-t)/(A-t)},e.median=function(e){e.sort((function(e,t){return e-t}));var t=Math.floor(e.length/2);return e.length%2?e[t]:(e[t-1]+e[t])/2},e.clamp=function(e,t,A){return Math.min(Math.max(e,t),A)},e}(),l=function(e,t){this.width=e,this.height=t},f=function(){function e(){}return e.fitRect=function(e,t,A,n){var i,r=0,o=0;return t/e<n/A?(r=e*(i=A/e),o=t*i):(r=e*(i=n/t),o=t*i),new l(Math.floor(r),Math.floor(o))},e.hitRect=function(e,t,A,n,i,r){return i>e&&i<e+A&&r>t&&r<t+n},e}(),p=function(){function e(){}return e.numericalInput=function(e){return 46==e.keyCode||8==e.keyCode||9==e.keyCode||27==e.keyCode||65==e.keyCode&&!0===e.ctrlKey||e.keyCode>=35&&e.keyCode<=39||(!(e.shiftKey||(e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105))||(e.preventDefault(),!1))},e}(),h=function(){function e(){}return e.toPlainObject=function(e){e=Object(e);var t={};for(var A in e)t[A]=e[A];return t},e}(),d=function(){function e(){}return e.clear=function(e){switch(void 0===e&&(e=n.MEMORY),e){case n.MEMORY:this._memoryStorage={};break;case n.SESSION:sessionStorage.clear();break;case n.LOCAL:localStorage.clear()}},e.clearExpired=function(e){void 0===e&&(e=n.MEMORY);for(var t=this.getItems(e),A=0;A<t.length;A++){var i=t[A];this._isExpired(i)&&this.remove(i.key)}},e.get=function(e,t){void 0===t&&(t=n.MEMORY);var A=null;switch(t){case n.MEMORY:A=this._memoryStorage[e];break;case n.SESSION:A=sessionStorage.getItem(e);break;case n.LOCAL:A=localStorage.getItem(e)}if(!A)return null;var i=null;try{i=JSON.parse(A)}catch(e){return null}return i?this._isExpired(i)?null:(i.key=e,i):null},e._isExpired=function(e){return!((new Date).getTime()<e.expiresAt)},e.getItems=function(e){void 0===e&&(e=n.MEMORY);var t=[];switch(e){case n.MEMORY:for(var A=Object.keys(this._memoryStorage),i=0;i<A.length;i++){(o=this.get(A[i],n.MEMORY))&&t.push(o)}break;case n.SESSION:for(i=0;i<sessionStorage.length;i++){if(r=sessionStorage.key(i))(o=this.get(r,n.SESSION))&&t.push(o)}break;case n.LOCAL:for(i=0;i<localStorage.length;i++){var r,o;if(r=localStorage.key(i))(o=this.get(r,n.LOCAL))&&t.push(o)}}return t},e.remove=function(e,t){switch(void 0===t&&(t=n.MEMORY),t){case n.MEMORY:delete this._memoryStorage[e];break;case n.SESSION:sessionStorage.removeItem(e);break;case n.LOCAL:localStorage.removeItem(e)}},e.set=function(e,t,A,i){void 0===i&&(i=n.MEMORY);var r=1e3*A,o=new g;switch(o.value=t,o.expiresAt=(new Date).getTime()+r,i){case n.MEMORY:this._memoryStorage[e]=JSON.stringify(o);break;case n.SESSION:sessionStorage.setItem(e,JSON.stringify(o));break;case n.LOCAL:localStorage.setItem(e,JSON.stringify(o))}return o},e._memoryStorage={},e}(),g=function(){};!function(e){e.MEMORY="memory",e.SESSION="session",e.LOCAL="local"}(n||(n={}));var E=function(){function e(){}return e.ellipsis=function(e,t){if(e.length<=t)return e;var A=e.substr(0,t),n=A.lastIndexOf(" ");return-1!=n&&(A=A.substr(0,Math.min(A.length,n))),A+"&hellip;"},e.htmlDecode=function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild.nodeValue},e.format=function(e){for(var t=[],A=1;A<arguments.length;A++)t[A-1]=arguments[A];for(var n=0;n<t.length;n++){var i=new RegExp("\\{"+n+"\\}","gm");e=e.replace(i,t[n])}return e},e.isAlphanumeric=function(e){return/^[a-zA-Z0-9]*$/.test(e)},e.toCssClass=function(e){return e.replace(/[^a-z0-9]/g,(function(e){var t=e.charCodeAt(0);return 32==t?"-":t>=65&&t<=90?"_"+e.toLowerCase():"__"+("000"+t.toString(16)).slice(-4)}))},e.toFileName=function(e){return e.replace(/[^a-z0-9]/gi,"_").toLowerCase()},e.utf8_to_b64=function(e){return window.btoa(unescape(encodeURIComponent(e)))},e}(),v=function(){function e(){}return e.getHashParameter=function(e,t){return t||(t=window.document),t&&t.location?this.getHashParameterFromString(e,t.location.hash):null},e.getHashParameterFromString=function(e,t){var A=new RegExp("#.*[?&]"+e+"=([^&]+)(&|$)").exec(t);return A?decodeURIComponent(A[1].replace(/\+/g," ")):null},e.setHashParameter=function(e,t,A){if(A||(A=window.document),A&&A.location){var n="#?"+this.updateURIKeyValuePair(A.location.hash.replace("#?",""),e,t),i=A.URL;-1!=i.indexOf("#")&&(i=i.substr(0,i.indexOf("#"))),A.location.replace(i+n)}},e.getQuerystringParameter=function(e,t){return t||(t=window),this.getQuerystringParameterFromString(e,t.location.search)},e.getQuerystringParameterFromString=function(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var A=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return A?decodeURIComponent(A[1].replace(/\+/g," ")):null},e.setQuerystringParameter=function(e,t,A){if(A||(A=window.document),A&&A.location){var n=this.updateURIKeyValuePair(A.location.hash.replace("#?",""),e,t);window.location.search=n}},e.updateURIKeyValuePair=function(e,t,A){t=encodeURIComponent(t),A=encodeURIComponent(A);var n=e.split("&");""==n[0]&&n.shift();for(var i,r=n.length;r--;)if((i=n[r].split("="))[0]==t){i[1]=A,n[r]=i.join("=");break}return r<0&&(n[n.length]=[t,A].join("=")),n.join("&")},e.getUrlParts=function(e){var t=document.createElement("a");return t.href=e,t},e.convertToRelativeUrl=function(e){var t=this.getUrlParts(e),A=t.pathname+t.searchWithin;return A.startsWith("/")||(A="/"+A),A},e}()},function(e,t,A){"use strict";A.d(t,"a",(function(){return n}));var n=function(){function e(){}return e.ACCEPT_TERMS="acceptTerms",e.ANNOTATION_CANVAS_CHANGE="annotationCanvasChange",e.ANNOTATION_CHANGE="annotationChange",e.ANNOTATIONS_CLEARED="annotationsCleared",e.ANNOTATIONS_EMPTY="annotationsEmpty",e.ANNOTATIONS="annotations",e.BOOKMARK="bookmark",e.CANVAS_INDEX_CHANGE_FAILED="canvasIndexChangeFailed",e.CANVAS_INDEX_CHANGE="canvasIndexChange",e.CLEAR_ANNOTATIONS="clearAnnotations",e.CLICKTHROUGH="clickthrough",e.CLOSE_ACTIVE_DIALOGUE="closeActiveDialogue",e.CLOSE_LEFT_PANEL="closeLeftPanel",e.CLOSE_RIGHT_PANEL="closeRightPanel",e.COLLECTION_INDEX_CHANGE="collectionIndexChange",e.CREATE="create",e.CREATED="created",e.DOWN_ARROW="downArrow",e.DOWNLOAD="download",e.DROP="drop",e.END="end",e.ERROR="error",e.ESCAPE="escape",e.EXIT_FULLSCREEN="exitFullScreen",e.EXTERNAL_LINK_CLICKED="externalLinkClicked",e.EXTERNAL_RESOURCE_OPENED="externalResourceOpened",e.FEEDBACK="feedback",e.FIRST="first",e.FORBIDDEN="forbidden",e.GALLERY_DECREASE_SIZE="galleryDecreaseSize",e.GALLERY_INCREASE_SIZE="galleryIncreaseSize",e.GALLERY_THUMB_SELECTED="galleryThumbSelected",e.HIDE_AUTH_DIALOGUE="hideAuthDialogue",e.HIDE_CLICKTHROUGH_DIALOGUE="hideClickthroughDialogue",e.HIDE_DOWNLOAD_DIALOGUE="hideDownloadDialogue",e.HIDE_EMBED_DIALOGUE="hideEmbedDialogue",e.HIDE_EXTERNALCONTENT_DIALOGUE="hideExternalContentDialogue",e.HIDE_GENERIC_DIALOGUE="hideGenericDialogue",e.HIDE_HELP_DIALOGUE="hideHelpDialogue",e.HIDE_INFORMATION="hideInformation",e.HIDE_LOGIN_DIALOGUE="hideLoginDialogue",e.HIDE_MOREINFO_DIALOGUE="hideMoreInfoDialogue",e.HIDE_MULTISELECT_DIALOGUE="hideMultiSelectDialogue",e.HIDE_OVERLAY="hideOverlay",e.HIDE_RESTRICTED_DIALOGUE="hideRestrictedDialogue",e.HIDE_SETTINGS_DIALOGUE="hideSettingsDialogue",e.HIDE_SHARE_DIALOGUE="hideShareDialogue",e.HOME="home",e.LAST="last",e.LEFT_ARROW="leftArrow",e.LEFTPANEL_COLLAPSE_FULL_FINISH="leftPanelCollapseFullFinish",e.LEFTPANEL_COLLAPSE_FULL_START="leftPanelCollapseFullStart",e.LEFTPANEL_EXPAND_FULL_FINISH="leftPanelExpandFullFinish",e.LEFTPANEL_EXPAND_FULL_START="leftPanelExpandFullStart",e.LOAD="load",e.LOAD_FAILED="loadFailed",e.LOGIN_FAILED="loginFailed",e.LOGIN="login",e.LOGOUT="logout",e.MANIFEST_INDEX_CHANGE="manifestIndexChange",e.METRIC_CHANGE="metricChange",e.MINUS="minus",e.MULTISELECT_CHANGE="multiSelectChange",e.MULTISELECTION_MADE="multiSelectionMade",e.NEXT="next",e.NOT_FOUND="notFound",e.OPEN_EXTERNAL_RESOURCE="openExternalResource",e.OPEN_LEFT_PANEL="openLeftPanel",e.OPEN_RIGHT_PANEL="openRightPanel",e.OPEN_THUMBS_VIEW="openThumbsView",e.OPEN_TREE_VIEW="openTreeView",e.OPEN="open",e.PAGE_DOWN="pageDown",e.PAGE_UP="pageUp",e.PLUS="plus",e.PREV="prev",e.RANGE_CHANGE="rangeChange",e.REDIRECT="redirect",e.REFRESH="refresh",e.RELOAD="reload",e.RESIZE="resize",e.RESOURCE_DEGRADED="resourceDegraded",e.RETRY="retry",e.RETURN="return",e.RIGHT_ARROW="rightArrow",e.RIGHTPANEL_COLLAPSE_FULL_FINISH="rightPanelCollapseFullFinish",e.RIGHTPANEL_COLLAPSE_FULL_START="rightPanelCollapseFullStart",e.RIGHTPANEL_EXPAND_FULL_FINISH="rightPanelExpandFullFinish",e.RIGHTPANEL_EXPAND_FULL_START="rightPanelExpandFullStart",e.SET_ROTATION="setRotation",e.SET_TARGET="setTarget",e.SETTINGS_CHANGE="settingsChange",e.SHOW_AUTH_DIALOGUE="showAuthDialogue",e.SHOW_CLICKTHROUGH_DIALOGUE="showClickThroughDialogue",e.SHOW_DOWNLOAD_DIALOGUE="showDownloadDialogue",e.SHOW_EMBED_DIALOGUE="showEmbedDialogue",e.SHOW_EXTERNALCONTENT_DIALOGUE="showExternalContentDialogue",e.SHOW_GENERIC_DIALOGUE="showGenericDialogue",e.SHOW_HELP_DIALOGUE="showHelpDialogue",e.SHOW_INFORMATION="showInformation",e.SHOW_LOGIN_DIALOGUE="showLoginDialogue",e.SHOW_MESSAGE="showMessage",e.SHOW_MOREINFO_DIALOGUE="showMoreInfoDialogue",e.SHOW_MULTISELECT_DIALOGUE="showMultiSelectDialogue",e.SHOW_OVERLAY="showOverlay",e.SHOW_RESTRICTED_DIALOGUE="showRestrictedDialogue",e.SHOW_SETTINGS_DIALOGUE="showSettingsDialogue",e.SHOW_SHARE_DIALOGUE="showShareDialogue",e.SHOW_TERMS_OF_USE="showTermsOfUse",e.TARGET_CHANGE="targetChange",e.THUMB_MULTISELECTED="thumbMultiSelected",e.THUMB_SELECTED="thumbSelected",e.TOGGLE_EXPAND_LEFT_PANEL="toggleExpandLeftPanel",e.TOGGLE_EXPAND_RIGHT_PANEL="toggleExpandRightPanel",e.TOGGLE_FULLSCREEN="toggleFullScreen",e.TREE_NODE_MULTISELECTED="treeNodeMultiSelected",e.TREE_NODE_SELECTED="treeNodeSelected",e.UP_ARROW="upArrow",e.UPDATE_SETTINGS="updateSettings",e.VIEW_FULL_TERMS="viewFullTerms",e.WINDOW_UNLOAD="windowUnload",e}()},function(e,t,A){"use strict";var n=A(7),i=A.n(n)()((function(e){return e[1]}));i.push([e.i,".uv {\r\n  background-color: #000;\r\n}\r\n\r\n.uv.loading {\r\n  background-repeat: no-repeat;\r\n  background-position: 50% 50%;\r\n  background-image: url(data:image/gif;base64,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);\r\n}\r\n\r\n/* avoid fouc */\r\n/* div.uv .uv * {\r\n  opacity: 0;\r\n} */\r\n\r\n/* .uv.loading * {\r\n  visibility: hidden !important;\r\n} */\r\n\r\n/* .uv.loading  {\r\n  background: red;\r\n}\r\n\r\n.uv.loading button {\r\n  display: none !important;\r\n  border: 1px solid red;\r\n}\r\n\r\n.uv.loading input {\r\n  display: none !important;\r\n  border: 1px solid red;\r\n} */\r\n",""]),t.a=i},function(e,t,A){"use strict";var n,i=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},r=function(){var e={};return function(t){if(void 0===e[t]){var A=document.querySelector(t);if(window.HTMLIFrameElement&&A instanceof window.HTMLIFrameElement)try{A=A.contentDocument.head}catch(e){A=null}e[t]=A}return e[t]}}(),o=[];function a(e){for(var t=-1,A=0;A<o.length;A++)if(o[A].identifier===e){t=A;break}return t}function s(e,t){for(var A={},n=[],i=0;i<e.length;i++){var r=e[i],s=t.base?r[0]+t.base:r[0],c=A[s]||0,u="".concat(s," ").concat(c);A[s]=c+1;var l=a(u),f={css:r[1],media:r[2],sourceMap:r[3]};-1!==l?(o[l].references++,o[l].updater(f)):o.push({identifier:u,updater:g(f,t),references:1}),n.push(u)}return n}function c(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var i=A.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var o=r(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var u,l=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function f(e,t,A,n){var i=A?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=l(t,i);else{var r=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(r,o[t]):e.appendChild(r)}}function p(e,t,A){var n=A.css,i=A.media,r=A.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var h=null,d=0;function g(e,t){var A,n,i;if(t.singleton){var r=d++;A=h||(h=c(t)),n=f.bind(null,A,r,!1),i=f.bind(null,A,r,!0)}else A=c(t),n=p.bind(null,A,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(A)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var A=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<A.length;n++){var i=a(A[n]);o[i].references--}for(var r=s(e,t),c=0;c<A.length;c++){var u=a(A[c]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}A=r}}}},function(e,t,A){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var A=e(t);return t[2]?"@media ".concat(t[2]," {").concat(A,"}"):A})).join("")},t.i=function(e,A,n){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(n)for(var r=0;r<this.length;r++){var o=this[r][0];null!=o&&(i[o]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);n&&i[s[0]]||(A&&(s[2]?s[2]="".concat(A," and ").concat(s[2]):s[2]=A),t.push(s))}},t}},function(e,t,A){"use strict";A.d(t,"a",(function(){return h})),A.d(t,"b",(function(){return C})),A.d(t,"c",(function(){return n})),A.d(t,"d",(function(){return L})),A.d(t,"e",(function(){return m}));var n,i,r,o,a,s,c,u,l,f,p=function(e){this.isVisible=!0;var t=e.on.match(/.*xywh=(\d*),(\d*),(\d*),(\d*)/);this.x=Number(t[1]),this.y=Number(t[2]),this.width=Number(t[3]),this.height=Number(t[4]),this.chars=e.resource.chars},h=function(){function e(e,t){this.rects=[],this.canvasIndex=t,this.addRect(e)}return e.prototype.addRect=function(e){var t=new p(e);t.canvasIndex=this.canvasIndex,t.index=this.rects.length,this.rects.push(t),this.rects.sort((function(e,t){return e.index-t.index}))},e}(),d=A(0),g=function(){function e(){this.isEnabled=!1,this.ranges=[],this.canvases=[]}return e.prototype.allCanvasesSelected=function(){return this.canvases.length>0&&this.getAllSelectedCanvases().length===this.canvases.length},e.prototype.allRangesSelected=function(){return this.ranges.length>0&&this.getAllSelectedRanges().length===this.ranges.length},e.prototype.allSelected=function(){return this.allRangesSelected()&&this.allCanvasesSelected()},e.prototype.getAll=function(){return this.canvases.concat(this.ranges)},e.prototype.getAllSelectedCanvases=function(){return this.canvases.filter((function(e){return e.multiSelected}))},e.prototype.getAllSelectedRanges=function(){return this.ranges.filter((function(e){return e.multiSelected}))},e.prototype.getCanvasById=function(e){return this.canvases.filter((function(t){return d.Utils.normaliseUrl(t.id)===d.Utils.normaliseUrl(e)}))[0]},e.prototype.getCanvasesByIds=function(e){for(var t=[],A=0;A<e.length;A++){var n=e[A];t.push(this.getCanvasById(n))}return t},e.prototype.getRangeCanvases=function(e){var t=e.getCanvasIds();return this.getCanvasesByIds(t)},e.prototype.selectAll=function(e){this.selectRanges(this.ranges,e),this.selectCanvases(this.canvases,e)},e.prototype.selectCanvas=function(e,t){this.canvases.filter((function(t){return t.id===e.id}))[0].multiSelected=t},e.prototype.selectAllCanvases=function(e){this.selectCanvases(this.canvases,e)},e.prototype.selectCanvases=function(e,t){for(var A=0;A<e.length;A++){e[A].multiSelected=t}},e.prototype.selectRange=function(e,t){var A=this.ranges.filter((function(t){return t.id===e.id}))[0];A.multiSelected=t;var n=this.getRangeCanvases(A);this.selectCanvases(n,t)},e.prototype.selectAllRanges=function(e){this.selectRanges(this.ranges,e)},e.prototype.selectRanges=function(e,t){for(var A=0;A<e.length;A++){var n=e[A];n.multiSelected=t;var i=this.getCanvasesByIds(n.getCanvasIds());this.selectCanvases(i,t)}},e.prototype.setEnabled=function(e){this.isEnabled=e;for(var t=this.getAll(),A=0;A<t.length;A++){var n=t[A];n.multiSelectEnabled=this.isEnabled,e||(n.multiSelected=!1)}},e}(),E=function(){function e(e,t){this.items=[],this.resource=e,this.label=t}return e.prototype.addItem=function(e){this.items.push(e)},e.prototype.addMetadata=function(e,t){void 0===t&&(t=!1);for(var A=0;A<e.length;A++){var n=e[A];n.isRootLevel=t,this.addItem(n)}},e}();!function(e){e.DATE="date",e.NONE="none"}(n||(n={})),function(e){e.BOOKMARKING="oa:bookmarking",e.CLASSIFYING="oa:classifying",e.COMMENTING="oa:commenting",e.DESCRIBING="oa:describing",e.EDITING="oa:editing",e.HIGHLIGHTING="oa:highlighting",e.IDENTIFYING="oa:identifying",e.LINKING="oa:linking",e.MODERATING="oa:moderating",e.PAINTING="sc:painting",e.QUESTIONING="oa:questioning",e.REPLYING="oa:replying",e.TAGGING="oa:tagging",e.TRANSCRIBING="oad:transcribing"}(i||(i={})),function(e){e.AUTO_ADVANCE="auto-advance",e.CONTINUOUS="continuous",e.FACING_PAGES="facing-pages",e.HIDDEN="hidden",e.INDIVIDUALS="individuals",e.MULTI_PART="multi-part",e.NO_NAV="no-nav",e.NON_PAGED="non-paged",e.PAGED="paged",e.REPEAT="repeat",e.SEQUENCE="sequence",e.THUMBNAIL_NAV="thumbnail-nav",e.TOGETHER="together",e.UNORDERED="unordered"}(r||(r={})),function(e){e.CANVAS="canvas",e.CHOICE="choice",e.OA_CHOICE="oa:choice",e.CONTENT_AS_TEXT="contentastext",e.DATASET="dataset",e.DOCUMENT="document",e.IMAGE="image",e.MODEL="model",e.MOVING_IMAGE="movingimage",e.PDF="pdf",e.PHYSICAL_OBJECT="physicalobject",e.SOUND="sound",e.TEXT="text",e.TEXTUALBODY="textualbody",e.VIDEO="video"}(o||(o={})),function(e){e.ANNOTATION="annotation",e.CANVAS="canvas",e.COLLECTION="collection",e.MANIFEST="manifest",e.RANGE="range",e.SEQUENCE="sequence"}(a||(a={})),function(e){e.AUDIO_MP4="audio/mp4",e.CORTO="application/corto",e.DICOM="application/dicom",e.DRACO="application/draco",e.EPUB="application/epub+zip",e.GLB="model/gltf-binary",e.GLTF="model/gltf+json",e.IIIF_PRESENTATION_2='application/ld+json;profile="http://iiif.io/api/presentation/2/context.json"',e.IIIF_PRESENTATION_3='application/ld+json;profile="http://iiif.io/api/presentation/3/context.json"',e.JPG="image/jpeg",e.M3U8="application/vnd.apple.mpegurl",e.MP3="audio/mp3",e.MPEG_DASH="application/dash+xml",e.OBJ="text/plain",e.OPF="application/oebps-package+xml",e.PDF="application/pdf",e.PLY="application/ply",e.THREEJS="application/vnd.threejs+json",e.USDZ="model/vnd.usd+zip",e.VIDEO_MP4="video/mp4",e.WEBM="video/webm"}(s||(s={})),function(e){e.DOC="application/msword",e.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",e.PDF="application/pdf"}(c||(c={})),function(e){e.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",e.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",e.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",e.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",e.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",e.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",e.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",e.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",e.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",e.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",e.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",e.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",e.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",e.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",e.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",e.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",e.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",e.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",e.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",e.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",e.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",e.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",e.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",e.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",e.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",e.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",e.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",e.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",e.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",e.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",e.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",e.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",e.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",e.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",e.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",e.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",e.SEARCH_0="http://iiif.io/api/search/0/search",e.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",e.SEARCH_1="http://iiif.io/api/search/1/search",e.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",e.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",e.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",e.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",e.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",e.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",e.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"}(u||(u={})),function(e){e.BOTTOM_TO_TOP="bottom-to-top",e.LEFT_TO_RIGHT="left-to-right",e.RIGHT_TO_LEFT="right-to-left",e.TOP_TO_BOTTOM="top-to-bottom"}(l||(l={})),function(e){e.CONTINUOUS="continuous",e.INDIVIDUALS="individuals",e.NON_PAGED="non-paged",e.PAGED="paged",e.TOP="top"}(f||(f={}));var v=function(){function e(){}return e.manifestNotLoaded="Manifest has not loaded yet",e}(),_=function(){function e(e){this.options=e,this.iiifResource=this.options.iiifResource,this.manifestUri=this.options.manifestUri,this.manifest=this.options.manifest,this.collectionIndex=this.options.collectionIndex||0,this.manifestIndex=this.options.manifestIndex||0,this.sequenceIndex=this.options.sequenceIndex||0,this.canvasIndex=this.options.canvasIndex||0}return e.prototype.getAutoCompleteService=function(){var e=this.getSearchService(),t=null;return e&&((t=e.getService(u.SEARCH_0_AUTO_COMPLETE))||(t=e.getService(u.SEARCH_1_AUTO_COMPLETE))),t},e.prototype.getAttribution=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);var e=this.manifest.getAttribution();return e?d.LanguageMap.getValue(e,this.options.locale):null},e.prototype.getCanvases=function(){return this.getCurrentSequence().getCanvases()},e.prototype.getCanvasById=function(e){return this.getCurrentSequence().getCanvasById(e)},e.prototype.getCanvasesById=function(e){for(var t=[],A=0;A<e.length;A++){var n=e[A],i=this.getCanvasById(n);i&&t.push(i)}return t},e.prototype.getCanvasByIndex=function(e){return this.getCurrentSequence().getCanvasByIndex(e)},e.prototype.getCanvasIndexById=function(e){return this.getCurrentSequence().getCanvasIndexById(e)},e.prototype.getCanvasIndexByLabel=function(e){var t=this.getManifestType()===d.ManifestType.MANUSCRIPT;return this.getCurrentSequence().getCanvasIndexByLabel(e,t)},e.prototype.getCanvasRange=function(e,t){var A=this.getCanvasRanges(e);if(t){for(var n=0;n<A.length;n++){var i=A[n];if(i.path===t)return i}return null}return A[0]},e.prototype.getCanvasRanges=function(e){if(!this.manifest)throw new Error(v.manifestNotLoaded);return e.ranges||(e.ranges=this.manifest.getAllRanges().filter((function(t){return t.getCanvasIds().some((function(t){return d.Utils.normaliseUrl(t)===d.Utils.normaliseUrl(e.id)}))}))),e.ranges},e.prototype.getCollectionIndex=function(e){if(!e.parentCollection||e.parentCollection.parentCollection)return e.parentCollection?e.parentCollection.index:void 0},e.prototype.getCurrentCanvas=function(){return this.getCurrentSequence().getCanvasByIndex(this.canvasIndex)},e.prototype.getCurrentSequence=function(){return this.getSequenceByIndex(this.sequenceIndex)},e.prototype.getDescription=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);var e=this.manifest.getDescription();return e?d.LanguageMap.getValue(e,this.options.locale):null},e.prototype.getLabel=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);var e=this.manifest.getLabel();return e?d.LanguageMap.getValue(e,this.options.locale):null},e.prototype.getLastCanvasLabel=function(e){return this.getCurrentSequence().getLastCanvasLabel(e)},e.prototype.getFirstPageIndex=function(){return 0},e.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},e.prototype.getLicense=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);return this.manifest.getLicense()},e.prototype.getLogo=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);return this.manifest.getLogo()},e.prototype.getManifestType=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);var e=this.manifest.getManifestType();return e===d.ManifestType.EMPTY&&(e=d.ManifestType.MONOGRAPH),e},e.prototype.getMetadata=function(e){if(!this.manifest)throw new Error(v.manifestNotLoaded);var t=[],A=this.manifest.getMetadata(),n=new E(this.manifest),i=this.options.locale;(A&&A.length&&n.addMetadata(A,!0),this.manifest.getDescription().length)&&((a=new d.LabelValuePair(i)).label=[new d.Language("description",i)],a.value=this.manifest.getDescription(),a.isRootLevel=!0,n.addItem(a));this.manifest.getAttribution().length&&((a=new d.LabelValuePair(i)).label=[new d.Language("attribution",i)],a.value=this.manifest.getAttribution(),a.isRootLevel=!0,n.addItem(a));var r=this.manifest.getLicense();if(r){var o={label:"license",value:e&&e.licenseFormatter?e.licenseFormatter.format(r):r};(a=new d.LabelValuePair(i)).parse(o),a.isRootLevel=!0,n.addItem(a)}if(this.manifest.getLogo()){var a;o={label:"logo",value:'<img src="'+this.manifest.getLogo()+'"/>'};(a=new d.LabelValuePair(i)).parse(o),a.isRootLevel=!0,n.addItem(a)}return t.push(n),e?this._parseMetadataOptions(e,t):t},e.prototype.getRequiredStatement=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);var e=this.manifest.getRequiredStatement();return e?{label:e.getLabel(),value:e.getValue()}:null},e.prototype._parseMetadataOptions=function(e,t){var A=this.getCurrentSequence(),n=A.getMetadata();if(n&&n.length){var i=new E(A);i.addMetadata(n),t.push(i)}if(e.range){var r=this._getRangeMetadata([],e.range);r=r.reverse(),t=t.concat(r)}if(e.canvases&&e.canvases.length)for(var o=0;o<e.canvases.length;o++){var a=e.canvases[o],s=a.getMetadata();if(s&&s.length){var c=new E(a);c.addMetadata(a.getMetadata()),t.push(c)}for(var u=a.getImages(),l=0;l<u.length;l++){var f=u[l],p=f.getMetadata();if(p&&p.length){var h=new E(f);h.addMetadata(p),t.push(h)}}}return t},e.prototype._getRangeMetadata=function(e,t){var A=t.getMetadata();if(A&&A.length){var n=new E(t);n.addMetadata(A),e.push(n)}else if(t.parentRange)return this._getRangeMetadata(e,t.parentRange);return e},e.prototype.getMultiSelectState=function(){return this._multiSelectState||(this._multiSelectState=new g,this._multiSelectState.ranges=this.getRanges().slice(0),this._multiSelectState.canvases=this.getCurrentSequence().getCanvases().slice(0)),this._multiSelectState},e.prototype.getCurrentRange=function(){return this.rangeId?this.getRangeById(this.rangeId):null},e.prototype.getPosterCanvas=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);return this.manifest.getPosterCanvas()},e.prototype.getPosterImage=function(){var e=this.getPosterCanvas();if(e){var t=e.getContent();if(t&&t.length)return t[0].getBody()[0].id}return null},e.prototype.getPreviousRange=function(e){var t=null;if(t=e||this.getCurrentRange()){var A=this.getFlattenedTree();if(A)for(var n=0;n<A.length;n++){var i=A[n];if(i&&i.data.id===t.id){for(;n>0;){return A[--n].data}break}}}return null},e.prototype.getNextRange=function(e){var t=null;if(t=e||this.getCurrentRange()){var A=this.getFlattenedTree();if(A)for(var n=0;n<A.length;n++){var i=A[n];if(i&&i.data.id===t.id){for(;n<A.length-1;){var r=A[++n];if(r.data.canvases&&r.data.canvases.length)return r.data}break}}}return null},e.prototype.getFlattenedTree=function(e){var t=null;return(t=e||this.getTree())?this._flattenTree(t,"nodes"):null},e.prototype._flattenTree=function(e,t){var A=this,n=[e];return e[t]&&e[t].length>0?n.concat(e[t].map((function(e){return A._flattenTree(e,t)})).reduce((function(e,t){return e.concat(t)}),[])):n},e.prototype.getRanges=function(){return this.manifest.getAllRanges()},e.prototype.getRangeByPath=function(e){if(!this.manifest)throw new Error(v.manifestNotLoaded);return this.manifest.getRangeByPath(e)},e.prototype.getRangeById=function(e){if(!this.manifest)throw new Error(v.manifestNotLoaded);return this.manifest.getRangeById(e)},e.prototype.getRangeCanvases=function(e){var t=e.getCanvasIds();return this.getCanvasesById(t)},e.prototype.getRelated=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);return this.manifest.getRelated()},e.prototype.getSearchService=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);var e=this.manifest.getService(u.SEARCH_0);return e||(e=this.manifest.getService(u.SEARCH_1)),e},e.prototype.getSeeAlso=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);return this.manifest.getSeeAlso()},e.prototype.getSequenceByIndex=function(e){if(!this.manifest)throw new Error(v.manifestNotLoaded);return this.manifest.getSequenceByIndex(e)},e.prototype.getShareServiceUrl=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);var e=null,t=this.manifest.getService(u.SHARE_EXTENSIONS);return t&&(t.length&&(t=t[0]),e=t.__jsonld.shareUrl),e},e.prototype._getSortedTreeNodesByDate=function(e,t){var A=this.getFlattenedTree(t);if(A){var n=A.filter((function(e){return e.data.type===d.TreeNodeType.MANIFEST}));this.createDecadeNodes(e,A),this.sortDecadeNodes(e),this.createYearNodes(e,A),this.sortYearNodes(e),this.createMonthNodes(e,n),this.sortMonthNodes(e),this.createDateNodes(e,n),this.pruneDecadeNodes(e)}},e.prototype.getStartCanvasIndex=function(){return this.getCurrentSequence().getStartCanvasIndex()},e.prototype.getThumbs=function(e,t){return this.getCurrentSequence().getThumbs(e,t)},e.prototype.getTopRanges=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);return this.manifest.getTopRanges()},e.prototype.getTotalCanvases=function(){return this.getCurrentSequence().getTotalCanvases()},e.prototype.getTrackingLabel=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);return this.manifest.getTrackingLabel()},e.prototype._getTopRanges=function(){return this.iiifResource.getTopRanges()},e.prototype.getTree=function(e,t){if(void 0===e&&(e=0),void 0===t&&(t=n.NONE),!this.iiifResource)return null;var A;if(this.iiifResource.isCollection())A=this.iiifResource.getDefaultTree();else{var i=this._getTopRanges(),r=new d.TreeNode;if(r.label="root",r.data=this.iiifResource,!i.length)return r;A=i[e].getTree(r)}var o=new d.TreeNode;switch(t.toString()){case n.DATE.toString():if(this.treeHasNavDates(A)){this._getSortedTreeNodesByDate(o,A);break}default:o=A}return o},e.prototype.treeHasNavDates=function(e){var t=this.getFlattenedTree(e);return!!t&&t.some((function(e){return!isNaN(e.navDate)}))},e.prototype.getViewingDirection=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);var e=this.getCurrentSequence().getViewingDirection();return e||(e=this.manifest.getViewingDirection()),e},e.prototype.getViewingHint=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);var e=this.getCurrentSequence().getViewingHint();return e||(e=this.manifest.getViewingHint()),e},e.prototype.hasParentCollection=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);return!!this.manifest.parentCollection},e.prototype.hasRelatedPage=function(){var e=this.getRelated();return!!e&&(e.length&&(e=e[0]),"text/html"===e.format)},e.prototype.hasResources=function(){return this.getCurrentCanvas().getResources().length>0},e.prototype.isBottomToTop=function(){var e=this.getViewingDirection();return!!e&&e===l.BOTTOM_TO_TOP},e.prototype.isCanvasIndexOutOfRange=function(e){return this.getCurrentSequence().isCanvasIndexOutOfRange(e)},e.prototype.isContinuous=function(){var e=this.getViewingHint();return!!e&&e===f.CONTINUOUS},e.prototype.isFirstCanvas=function(e){return void 0!==e?this.getCurrentSequence().isFirstCanvas(e):this.getCurrentSequence().isFirstCanvas(this.canvasIndex)},e.prototype.isHorizontallyAligned=function(){return this.isLeftToRight()||this.isRightToLeft()},e.prototype.isLastCanvas=function(e){return void 0!==e?this.getCurrentSequence().isLastCanvas(e):this.getCurrentSequence().isLastCanvas(this.canvasIndex)},e.prototype.isLeftToRight=function(){var e=this.getViewingDirection();return!!e&&e===l.LEFT_TO_RIGHT},e.prototype.isMultiCanvas=function(){return this.getCurrentSequence().isMultiCanvas()},e.prototype.isMultiSequence=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);return this.manifest.isMultiSequence()},e.prototype.isPaged=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);var e=this.getViewingHint();return e?e===f.PAGED:this.manifest.isPagingEnabled()},e.prototype.isPagingAvailable=function(){return this.isPagingEnabled()&&this.getTotalCanvases()>2},e.prototype.isPagingEnabled=function(){if(!this.manifest)throw new Error(v.manifestNotLoaded);return this.manifest.isPagingEnabled()||this.getCurrentSequence().isPagingEnabled()},e.prototype.isRightToLeft=function(){var e=this.getViewingDirection();return!!e&&e===l.RIGHT_TO_LEFT},e.prototype.isTopToBottom=function(){var e=this.getViewingDirection();return!!e&&e===l.TOP_TO_BOTTOM},e.prototype.isTotalCanvasesEven=function(){return this.getCurrentSequence().isTotalCanvasesEven()},e.prototype.isUIEnabled=function(e){if(!this.manifest)throw new Error(v.manifestNotLoaded);var t=this.manifest.getService(u.UI_EXTENSIONS);if(t){var A=t.getProperty("disableUI");if(A&&(-1!==A.indexOf(e)||-1!==A.indexOf(e.toLowerCase())))return!1}return!0},e.prototype.isVerticallyAligned=function(){return this.isTopToBottom()||this.isBottomToTop()},e.prototype.createDateNodes=function(e,t){for(var A=0;A<t.length;A++){var n=t[A],i=this.getNodeYear(n),r=this.getNodeMonth(n),o=new d.TreeNode;o.id=n.id,o.label=this.getNodeDisplayDate(n),o.data=n.data,o.data.type=d.TreeNodeType.MANIFEST,o.data.year=i,o.data.month=r;var a=this.getDecadeNode(e,i);if(a){var s=this.getYearNode(a,i);if(s){var c=this.getMonthNode(s,r);c&&c.addNode(o)}}}},e.prototype.createDecadeNodes=function(e,t){for(var A=0;A<t.length;A++){var n=t[A];if(n.navDate){var i=this.getNodeYear(n),r=Number(i.toString().substr(0,3)+"9");if(!this.getDecadeNode(e,i)){var o=new d.TreeNode;o.label=i+" - "+r,o.navDate=n.navDate,o.data.startYear=i,o.data.endYear=r,e.addNode(o)}}}},e.prototype.createMonthNodes=function(e,t){for(var A=0;A<t.length;A++){var n=t[A];if(n.navDate){var i=this.getNodeYear(n),r=this.getNodeMonth(n),o=this.getDecadeNode(e,i),a=null;if(o&&(a=this.getYearNode(o,i)),o&&a&&!this.getMonthNode(a,r)){var s=new d.TreeNode;s.label=this.getNodeDisplayMonth(n),s.navDate=n.navDate,s.data.year=i,s.data.month=r,a.addNode(s)}}}},e.prototype.createYearNodes=function(e,t){for(var A=0;A<t.length;A++){var n=t[A];if(n.navDate){var i=this.getNodeYear(n),r=this.getDecadeNode(e,i);if(r&&!this.getYearNode(r,i)){var o=new d.TreeNode;o.label=i.toString(),o.navDate=n.navDate,o.data.year=i,r.addNode(o)}}}},e.prototype.getDecadeNode=function(e,t){for(var A=0;A<e.nodes.length;A++){var n=e.nodes[A];if(t>=n.data.startYear&&t<=n.data.endYear)return n}return null},e.prototype.getMonthNode=function(e,t){for(var A=0;A<e.nodes.length;A++){var n=e.nodes[A];if(t===this.getNodeMonth(n))return n}return null},e.prototype.getNodeDisplayDate=function(e){return e.navDate.toDateString()},e.prototype.getNodeDisplayMonth=function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e.navDate.getMonth()]},e.prototype.getNodeMonth=function(e){return e.navDate.getMonth()},e.prototype.getNodeYear=function(e){return e.navDate.getFullYear()},e.prototype.getYearNode=function(e,t){for(var A=0;A<e.nodes.length;A++){var n=e.nodes[A];if(t===this.getNodeYear(n))return n}return null},e.prototype.pruneDecadeNodes=function(e){for(var t=[],A=0;A<e.nodes.length;A++){var n=e.nodes[A];n.nodes.length||t.push(n)}for(var i=0;i<t.length;i++){var r=t[i],o=e.nodes.indexOf(r);o>-1&&e.nodes.splice(o,1)}},e.prototype.sortDecadeNodes=function(e){e.nodes=e.nodes.sort((function(e,t){return e.data.startYear-t.data.startYear}))},e.prototype.sortMonthNodes=function(e){for(var t=this,A=0;A<e.nodes.length;A++)for(var n=e.nodes[A],i=0;i<n.nodes.length;i++){var r=n.nodes[i];r.nodes=r.nodes.sort((function(e,A){return t.getNodeMonth(e)-t.getNodeMonth(A)}))}},e.prototype.sortYearNodes=function(e){for(var t=this,A=0;A<e.nodes.length;A++){var n=e.nodes[A];n.nodes=n.nodes.sort((function(e,A){return t.getNodeYear(e)-t.getNodeYear(A)}))}},e}(),I=function(){function e(e){this._options=e,this._options.locale=this._options.locale||"en-GB"}return e.prototype.bootstrap=function(e,t){var A=this;return new Promise((function(n,i){e&&t&&(n=e,i=t),d.Utils.loadManifest(A._options.manifestUri).then((function(e){A._loaded(A,e,n,i)}))}))},e.prototype._loaded=function(e,t,A,n){var i=d.Utils.parseManifest(t,{locale:e._options.locale});if(i){e._options.iiifResource||(e._options.iiifResource=i);var r=e._options.collectionIndex,o=e._options.manifestIndex;if(i.getIIIFResourceType()===a.COLLECTION){var s=i.getManifests(),c=i.getCollections();s.length||void 0!==r||(r=0),void 0!==r&&c&&c.length?i.getCollectionByIndex(r).then((function(t){t||n("Collection index not found"),0===t.getTotalManifests()&&0===o&&t.getTotalCollections()>0?(e._options.collectionIndex=0,e._options.manifestUri=t.id,e.bootstrap(A,n)):void 0!==o&&t.getManifestByIndex(o).then((function(t){e._options.manifest=t;var n=new _(e._options);A(n)}))})):i.getManifestByIndex(e._options.manifestIndex).then((function(t){e._options.manifest=t;var n=new _(e._options);A(n)}))}else{e._options.manifest=i;var u=new _(e._options);A(u)}}else console.error("Unable to load IIIF resource")},e}(),y=A(2),C=function(){function e(e,t){this.authHoldingPage=null,this.clickThroughService=null,this.externalService=null,this.isProbed=!1,this.isResponseHandled=!1,this.kioskService=null,this.loginService=null,this.logoutService=null,this.probeService=null,this.restrictedService=null,this.tokenService=null,e.externalResource=this,this.dataUri=this._getDataUri(e),this.index=e.index,this.authAPIVersion=t.authApiVersion,this._parseAuthServices(e),this._parseCanvasDimensions(e)}return e.prototype._getImageServiceDescriptor=function(e){for(var t=null,A=0;A<e.length;A++){var n=e[A],i=n.id;i.endsWith("/")||(i+="/"),d.Utils.isImageProfile(n.getProfile())&&(t=i+"info.json")}return t},e.prototype._getDataUri=function(e){var t=e.getContent(),A=e.getImages(),n=null;if(t&&t.length){var i=t[0].getBody();return i.length?(r=i[0].getServices()).length&&(n=this._getImageServiceDescriptor(r))?n:i[0].id:null}if(A&&A.length){var r,o=A[0].getResource();return(r=o.getServices()).length&&(n=this._getImageServiceDescriptor(r))?n:o.id}var a=e.getService(u.IXIF);return a?a.getInfoUri():e.id},e.prototype._parseAuthServices=function(e){if(.9===this.authAPIVersion)this.clickThroughService=d.Utils.getService(e,u.AUTH_0_CLICK_THROUGH),this.loginService=d.Utils.getService(e,u.AUTH_0_LOGIN),this.restrictedService=d.Utils.getService(e,u.AUTH_0_RESTRICTED),this.clickThroughService?(this.logoutService=this.clickThroughService.getService(u.AUTH_0_LOGOUT),this.tokenService=this.clickThroughService.getService(u.AUTH_0_TOKEN)):this.loginService?(this.logoutService=this.loginService.getService(u.AUTH_0_LOGOUT),this.tokenService=this.loginService.getService(u.AUTH_0_TOKEN)):this.restrictedService&&(this.logoutService=this.restrictedService.getService(u.AUTH_0_LOGOUT),this.tokenService=this.restrictedService.getService(u.AUTH_0_TOKEN));else{if(void 0!==e.isCanvas&&e.isCanvas()){var t=e.getContent();if(t&&t.length){var A=t[0].getBody();if(A&&A.length)e=A[0]}}this.clickThroughService=d.Utils.getService(e,u.AUTH_1_CLICK_THROUGH),this.loginService=d.Utils.getService(e,u.AUTH_1_LOGIN),this.externalService=d.Utils.getService(e,u.AUTH_1_EXTERNAL),this.kioskService=d.Utils.getService(e,u.AUTH_1_KIOSK),this.clickThroughService?(this.logoutService=this.clickThroughService.getService(u.AUTH_1_LOGOUT),this.tokenService=this.clickThroughService.getService(u.AUTH_1_TOKEN),this.probeService=this.clickThroughService.getService(u.AUTH_1_PROBE)):this.loginService?(this.logoutService=this.loginService.getService(u.AUTH_1_LOGOUT),this.tokenService=this.loginService.getService(u.AUTH_1_TOKEN),this.probeService=this.loginService.getService(u.AUTH_1_PROBE)):this.externalService?(this.logoutService=this.externalService.getService(u.AUTH_1_LOGOUT),this.tokenService=this.externalService.getService(u.AUTH_1_TOKEN),this.probeService=this.externalService.getService(u.AUTH_1_PROBE)):this.kioskService&&(this.logoutService=this.kioskService.getService(u.AUTH_1_LOGOUT),this.tokenService=this.kioskService.getService(u.AUTH_1_TOKEN),this.probeService=this.kioskService.getService(u.AUTH_1_PROBE))}},e.prototype._parseCanvasDimensions=function(e){var t=e.getImages();if(t&&t.length){var A=t[0].getResource();this.width=A.getWidth(),this.height=A.getHeight()}else if((t=e.getContent()).length){var n=t[0].getBody();n.length&&(this.width=n[0].getWidth(),this.height=n[0].getHeight())}},e.prototype._parseDescriptorDimensions=function(e){void 0!==e.width&&(this.width=e.width),void 0!==e.height&&(this.height=e.height)},e.prototype.isAccessControlled=function(){return!!(this.clickThroughService||this.loginService||this.externalService||this.kioskService||this.probeService)},e.prototype.hasServiceDescriptor=function(){return!!this.dataUri&&this.dataUri.endsWith("info.json")},e.prototype.getData=function(e){var t=this;return t.data={},new Promise((function(A,n){if(t.dataUri)if(t.probeService){t.isProbed=!0;var i=new XMLHttpRequest;i.open("GET",t.probeService.id,!0),i.withCredentials=!0,i.onload=function(){var e=JSON.parse(i.responseText);unescape(e.contentLocation)!==t.dataUri?t.status=y.MOVED_TEMPORARILY:t.status=y.OK,A(t)},i.onerror=function(){t.status=i.status,A(t)},i.send()}else{var r="GET";if(!t.hasServiceDescriptor()){if(!t.isAccessControlled())return t.status=y.OK,void A(t);r="HEAD"}var o=new XMLHttpRequest;o.open(r,t.dataUri,!0),e&&o.setRequestHeader("Authorization","Bearer "+e.accessToken),o.onload=function(){var e=JSON.parse(o.responseText);if(e){var n=unescape(e["@id"]);t.data=e,t._parseAuthServices(t.data),t._parseDescriptorDimensions(t.data),n.endsWith("/info.json")&&(n=n.substr(0,n.lastIndexOf("/")));var i=t.dataUri;i&&i.endsWith("/info.json")&&(i=i.substr(0,i.lastIndexOf("/"))),n!==i&&t.loginService?t.status=y.MOVED_TEMPORARILY:t.status=y.OK,A(t)}else t.status=y.OK,A(t)},o.onerror=function(){t.status=o.status,o.responseText&&t._parseAuthServices(JSON.parse(o.responseText)),A(t)},o.send()}else n("There is no dataUri to fetch")}))},e}(),L=function(){function e(e){this.labels=e}return e.prototype.format=function(e){return-1!=e.indexOf("<a")?e:'<a href="'+e+'">'+(this.labels[e]?this.labels[e]:e)+"</a>"},e}(),m=function(e){return new I(e).bootstrap()}},function(e,t,A){"use strict";A.d(t,"a",(function(){return n}));var n=function(){function e(e){this.options=e,this.options.data=Object.assign({},this.data(),e.data)}return e.prototype._init=function(){return this.el=this.options.target,this.el?(this.el.innerHTML="",!0):(console.warn("element not found"),!1)},e.prototype.data=function(){return{}},e.prototype.on=function(e,t,A){var n=this._e||(this._e={});(n[e]||(n[e]=[])).push({fn:t,ctx:A})},e.prototype.fire=function(e){for(var t=[],A=1;A<arguments.length;A++)t[A-1]=arguments[A];for(var n=[].slice.call(arguments,1),i=((this._e||(this._e={}))[e]||[]).slice(),r=0,o=i.length;r<o;r++)i[r].fn.apply(i[r].ctx,n)},e.prototype._resize=function(){},e.prototype.set=function(e){},e}()},function(e,t,A){e.exports=A(11)},function(e,t,A){"use strict";A.r(t),A.d(t,"URLDataProvider",(function(){return s})),A.d(t,"Viewer",(function(){return y})),A.d(t,"init",(function(){return C}));var n,i,r=function(){function e(e){this.readonly=!1,this.readonly=e}return e.prototype.get=function(e,t){return null},e.prototype.set=function(e,t){},e}(),o=A(3),a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(e,t)},function(e,t){function A(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)}),s=function(e){function t(t){return void 0===t&&(t=!1),e.call(this,t)||this}return a(t,e),t.prototype.get=function(e,t){return o.o.getHashParameter(e,document)||t},t.prototype.set=function(e,t){this.readonly||(t?o.o.setHashParameter(e,t.toString(),document):o.o.setHashParameter(e,"",document))},t}(r),c=A(4),u=function(){function e(){this.events={}}return e.prototype.publish=function(e,t){var A=this,n=this.events[e];void 0!==n&&n.forEach((function(e){e.call(A,t)}))},e.prototype.subscribe=function(e,t){var A=this.events[e];void 0===A&&(A=this.events[e]=[]),A.push(t)},e.prototype.unsubscribe=function(e,t){var A=this.events[e];if(void 0!==A){var n=A.indexOf(t);A.splice(n)}},e.prototype.dispose=function(){this.events={}},e}(),l=A(1),f=A(8),p=A(9),h=A(6),d=A.n(h),g=A(5),E={insert:"head",singleton:!1},v=(d()(g.a,E),g.a.locals,function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}()),_=function(e,t,A,n){return new(A||(A=Promise))((function(i,r){function o(e){try{s(n.next(e))}catch(e){r(e)}}function a(e){try{s(n.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,a)}s((n=n.apply(e,t||[])).next())}))},I=function(e,t){var A,n,i,r,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(A)throw new TypeError("Generator is already executing.");for(;o;)try{if(A=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,n=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){o.label=r[1];break}if(6===r[0]&&o.label<i[1]){o.label=i[1],i=r;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(r);break}i[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],n=0}finally{A=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};!function(e){e.ALEPH="uv-aleph-extension",e.DEFAULT="uv-default-extension",e.EBOOK="uv-ebook-extension",e.MEDIAELEMENT="uv-mediaelement-extension",e.MODELVIEWER="uv-model-viewer-extension",e.OSD="uv-openseadragon-extension",e.PDF="uv-pdf-extension",e.SLIDEATLAS="uv-slideatlas-extension"}(i||(i={}));var y=function(e){function t(t){var A=e.call(this,t)||this;return A.isFullScreen=!1,A.dataProvider=new s(!!t.data.readOnlyDataProvider),A._pubsub=new u,A._init(),A._resize(),A}return v(t,e),t.prototype._init=function(){var t,n=this;return e.prototype._init.call(this),this._extensions=((t={})[i.ALEPH]=function(){return _(n,void 0,void 0,(function(){var e,t;return I(this,(function(n){switch(n.label){case 0:return[4,Promise.all([A.e(3),A.e(25),A.e(2),A.e(17)]).then(A.bind(null,300))];case 1:return e=n.sent(),(t=new e.default).name=i.ALEPH,[2,t]}}))}))},t[i.DEFAULT]=function(){return _(n,void 0,void 0,(function(){var e,t;return I(this,(function(n){switch(n.label){case 0:return[4,Promise.all([A.e(3),A.e(2),A.e(18)]).then(A.bind(null,305))];case 1:return e=n.sent(),(t=new e.default).name=i.DEFAULT,[2,t]}}))}))},t[i.EBOOK]=function(){return _(n,void 0,void 0,(function(){var e,t;return I(this,(function(n){switch(n.label){case 0:return[4,Promise.all([A.e(3),A.e(26),A.e(2),A.e(19)]).then(A.bind(null,302))];case 1:return e=n.sent(),(t=new e.default).name=i.EBOOK,[2,t]}}))}))},t[i.MEDIAELEMENT]=function(){return _(n,void 0,void 0,(function(){var e,t;return I(this,(function(n){switch(n.label){case 0:return[4,Promise.all([A.e(3),A.e(27),A.e(2),A.e(20)]).then(A.bind(null,304))];case 1:return e=n.sent(),(t=new e.default).name=i.MEDIAELEMENT,[2,t]}}))}))},t[i.MODELVIEWER]=function(){return _(n,void 0,void 0,(function(){var e,t;return I(this,(function(n){switch(n.label){case 0:return[4,Promise.all([A.e(3),A.e(4),A.e(28),A.e(2),A.e(21)]).then(A.bind(null,301))];case 1:return e=n.sent(),(t=new e.default).name=i.MODELVIEWER,[2,t]}}))}))},t[i.OSD]=function(){return _(n,void 0,void 0,(function(){var e,t;return I(this,(function(n){switch(n.label){case 0:return[4,Promise.all([A.e(3),A.e(4),A.e(29),A.e(2),A.e(22)]).then(A.bind(null,299))];case 1:return e=n.sent(),(t=new e.default).name=i.OSD,[2,t]}}))}))},t[i.PDF]=function(){return _(n,void 0,void 0,(function(){var e,t;return I(this,(function(n){switch(n.label){case 0:return[4,Promise.all([A.e(3),A.e(2),A.e(23)]).then(A.bind(null,303))];case 1:return e=n.sent(),(t=new e.default).name=i.PDF,[2,t]}}))}))},t[i.SLIDEATLAS]=function(){return _(n,void 0,void 0,(function(){var e,t;return I(this,(function(n){switch(n.label){case 0:return[4,Promise.all([A.e(3),A.e(2),A.e(23)]).then(A.bind(null,306))];case 1:return e=n.sent(),(t=new e.default).name=i.SLIDEATLAS,[2,t]}}))}))},t),this._extensionRegistry={},this._extensionRegistry[l.ExternalResourceType.CANVAS]={load:this._extensions[i.OSD]},this._extensionRegistry[l.ExternalResourceType.DOCUMENT]={load:this._extensions[i.PDF]},this._extensionRegistry[l.ExternalResourceType.IMAGE]={load:this._extensions[i.OSD]},this._extensionRegistry[l.ExternalResourceType.MOVING_IMAGE]={load:this._extensions[i.MEDIAELEMENT]},this._extensionRegistry[l.ExternalResourceType.PHYSICAL_OBJECT]={load:this._extensions[i.MODELVIEWER]},this._extensionRegistry[l.ExternalResourceType.SOUND]={load:this._extensions[i.MEDIAELEMENT]},this._extensionRegistry[l.RenderingFormat.PDF]={load:this._extensions[i.PDF]},this._extensionRegistry[l.MediaType.AUDIO_MP4]={load:this._extensions[i.MEDIAELEMENT]},this._extensionRegistry.default={load:this._extensions[i.DEFAULT]},this._extensionRegistry[l.MediaType.DRACO]={load:this._extensions[i.MODELVIEWER]},this._extensionRegistry[l.MediaType.GLB]={load:this._extensions[i.MODELVIEWER]},this._extensionRegistry[l.MediaType.GLTF]={load:this._extensions[i.MODELVIEWER]},this._extensionRegistry[l.MediaType.DICOM]={load:this._extensions[i.ALEPH]},this._extensionRegistry[l.MediaType.JPG]={load:this._extensions[i.OSD]},this._extensionRegistry[l.MediaType.MP3]={load:this._extensions[i.MEDIAELEMENT]},this._extensionRegistry[l.MediaType.PDF]={load:this._extensions[i.PDF]},this._extensionRegistry[l.MediaType.USDZ]={load:this._extensions[i.MODELVIEWER]},this._extensionRegistry[l.MediaType.VIDEO_MP4]={load:this._extensions[i.MEDIAELEMENT]},this._extensionRegistry[l.MediaType.EPUB]={load:this._extensions[i.EBOOK]},this._extensionRegistry[l.MediaType.OPF]={load:this._extensions[i.EBOOK]},this._extensionRegistry["image/vnd.kitware.girder"]={load:this._extensions[i.SLIDEATLAS]},this.set(this.options.data),!0},t.prototype.data=function(){return{assetsDir:"/uv-assets",canvasIndex:0,embedded:!1,isReload:!1,limitLocales:!1,manifestUri:"",locales:[{name:"en-GB"}],target:""}},t.prototype.set=function(e){if(this.extension){var t=Object.assign({},this.extension.data,e);t.isReload||t.manifestUri!==this.extension.data.manifestUri||t.manifestIndex!==this.extension.data.manifestIndex||t.collectionIndex!==this.extension.data.collectionIndex?(this.extension.data=t,this._reload(this.extension.data)):(this.extension.data=t,this.extension.render())}else{if(!e.manifestUri)return void console.warn("manifestUri is required.");e.assetsDir&&e.assetsDir.endsWith("/")&&(e.assetsDir=e.assetsDir.substring(0,e.assetsDir.length-1)),this._reload(e)}},t.prototype._getExtension=function(e){return this._extensionRegistry[e]||(e="default"),this._extensionRegistry[e].load()},t.prototype.get=function(e){if(this.extension)return this.extension.data[e]},t.prototype.publish=function(e,t){this._pubsub.publish(e,t)},t.prototype.subscribe=function(e,t){this._pubsub.subscribe(e,t)},t.prototype._reload=function(e){return _(this,void 0,void 0,(function(){var t,A,n,i,r,o,a,s,u,l,p,h,d=this;return I(this,(function(g){switch(g.label){case 0:return this._pubsub.dispose(),e.target="",this.subscribe(c.a.RELOAD,(function(e){d.fire(c.a.RELOAD,e)})),(t=$(this.options.target)).empty(),t.addClass("loading"),A=this,[4,Object(f.e)({manifestUri:e.manifestUri,collectionIndex:e.collectionIndex,manifestIndex:e.manifestIndex||0,canvasIndex:e.canvasIndex||0,rangeId:e.rangeId,locale:e.locales?e.locales[0].name:void 0})];case 1:return n=g.sent(),(i=n.getTrackingLabel())&&(i+=document.referrer,window.trackingLabel=i),(r=n.getCurrentCanvas())?(a=r.getContent()).length?(s=a[0],(u=s.getBody())&&u.length?(h=u[0].getFormat())?[4,A._getExtension(h)]:[3,5]:[3,7]):[3,8]:(A._error("Canvas "+e.canvasIndex+" not found."),[2]);case 2:return(o=g.sent())?[3,4]:(l=u[0].getType())?[4,A._getExtension(l)]:[3,4];case 3:o=g.sent(),g.label=4;case 4:return[3,7];case 5:return(l=u[0].getType())?[4,A._getExtension(l)]:[3,7];case 6:o=g.sent(),g.label=7;case 7:return[3,12];case 8:return(p=r.getType())?[4,A._getExtension(p)]:[3,10];case 9:o=g.sent(),g.label=10;case 10:return o?[3,12]:(h=r.getProperty("format"),[4,A._getExtension(h)]);case 11:o=g.sent(),g.label=12;case 12:return o?[3,14]:[4,A._getExtension("default")];case 13:o=g.sent(),g.label=14;case 14:return A._configure(e,o,(function(t){e.config=t,A._createExtension(o,e,n)})),[2]}}))}))},t.prototype._error=function(e){this.fire(c.a.ERROR,e)},t.prototype._configure=function(e,t,A){var n=this;this._getConfigExtension(e,t,(function(i){if(e.locales){var r=e.assetsDir+"/config/"+t.name+"."+e.locales[0].name+".config.json";$.getJSON(r,(function(r){n._extendConfig(e,t,r,i,A)}))}}))},t.prototype._extendConfig=function(e,t,A,n,i){A.name=t.name,n&&(A.uri=e.configUri,$.extend(!0,A,n)),i(A)},t.prototype._getConfigExtension=function(e,t,A){if(e.locales){var n=sessionStorage.getItem(t.name+"."+e.locales[0].name),i=e.configUri;n?A(JSON.parse(n)):i?$.getJSON(i,(function(e){A(e)})):A(null)}},t.prototype._createExtension=function(e,t,A){this.extension=e,this.extension&&(this.extension.component=this,this.extension.data=t,this.extension.helper=A,this.extension.create())},t.prototype.exitFullScreen=function(){this.extension&&this.extension.exitFullScreen()},t.prototype.resize=function(){this.extension&&this.extension.resize()},t}(p.a),C=function(e,t){var A,n=!1,i="string"==typeof e?document.getElementById(e):e;if(!i)throw new Error("UV target element not found");i.innerHTML="";var r=document.createElement("div");i.appendChild(r);var a=document.createElement("div");r.appendChild(a);var s=function(){A&&(n?(r.style.width=window.innerWidth+"px",r.style.height=window.innerHeight+"px"):(r.style.width=i.offsetWidth+"px",r.style.height=i.offsetHeight+"px"),A.resize())};function c(e){("webkitfullscreenchange"===e.type&&!document.webkitIsFullScreen||"fullscreenchange"===e.type&&!document.fullscreenElement||"mozfullscreenchange"===e.type&&!document.mozFullScreen||"MSFullscreenChange"===e.type&&null===document.msFullscreenElement)&&A.exitFullScreen()}return window.addEventListener("resize",(function(){s()})),window.addEventListener("orientationchange",(function(){setTimeout((function(){s()}),100)})),(A=new y({target:a,data:t})).on("created",(function(e){s()}),!1),A.on("externalResourceOpened",(function(e){setTimeout((function(){s()}),100)}),!1),A.on("reload",(function(e){e.isReload=!0,A.set(e)}),!1),A.on("toggleFullScreen",(function(e){if(n=e.isFullScreen,!e.overrideFullScreen)if(n){var t=function(e){if(e.webkitRequestFullscreen)return e.webkitRequestFullscreen;if(e.mozRequestFullScreen)return e.mozRequestFullScreen;if(e.msRequestFullscreen)return e.msRequestFullscreen;if(e.requestFullscreen)return e.requestFullscreen;return!1}(r);t&&(t.call(r),s())}else{var A=function(){if(document.webkitExitFullscreen)return document.webkitExitFullscreen;if(document.msExitFullscreen)return document.msExitFullscreen;if(document.mozCancelFullScreen)return document.mozCancelFullScreen;if(document.exitFullscreen)return document.exitFullscreen;return!1}();A&&(A.call(document),setTimeout((function(){s()}),100),setTimeout((function(){s()}),1e3))}}),!1),A.on("error",(function(e){console.error(e)}),!1),A.on("bookmark",(function(e){var t=r.ownerDocument.URL,A=o.o.getUrlParts(t),n=A.pathname+A.search+r.ownerDocument.location.hash;n.startsWith("/")||(n="/"+n),e.path=n,console.log("bookmark",e)}),!1),document.addEventListener("fullscreenchange",c,!1),document.addEventListener("webkitfullscreenchange",c,!1),document.addEventListener("mozfullscreenchange",c,!1),document.addEventListener("MSFullscreenChange",c,!1),A.on("collectionIndexChange",(function(e){A.dataProvider.set("c",e)}),!1),A.on("manifestIndexChange",(function(e){A.dataProvider.set("m",e)}),!1),A.on("canvasIndexChange",(function(e){A.dataProvider.set("cv",e)}),!1),A.on("rangeChange",(function(e){A.dataProvider.set("rid",e)}),!1),A}}])}));