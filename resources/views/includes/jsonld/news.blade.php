<!-- JSON-LD markup generated by Google Structured Data Markup Helper. -->
<script type="application/ld+json">
@php
    $jsonLd = [
        "@context" => "https://schema.org",
        "@type" => "Article",
        "headline" => $news['article_title'],
        "author" => [
            "@type" => "Organization",
            "name" => "The Fitzwilliam Museum"
        ],
        "datePublished" => $news['publication_date'],
        "articleBody" => $news['article_body'],
        "url" => Request::url(),
        "mainEntityOfPage" => [
            "@type" => "WebPage",
            "@id" => Request::url()
        ],
        "publisher" => [
            "@type" => "Organization",
            "name" => "The University of Cambridge",
            "logo" => [
                "@type" => "ImageObject",
                "url" => "https://fitzmuseum.cam.ac.uk/images/logos/FV.png"
            ]
        ]
    ];
    if(isset($news['modified_on'])) {
        $jsonLd['dateModified'] = $news['modified_on'];
    }
    if(isset($news['field_image'])) {
        $jsonLd['image'] = $news['field_image']['data']['full_url'];
    } else {
        $jsonLd['image'] = env('MISSING_IMAGE_URL');
    }
@endphp
{!! json_encode($jsonLd, JSON_UNESCAPED_SLASHES|JSON_UNESCAPED_UNICODE|JSON_PRETTY_PRINT) !!}
</script>
